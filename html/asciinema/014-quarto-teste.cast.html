<!DOCTYPE html>
<html>
<head>
<style type="text/css">
body {background-color: black;}
pre {
	font-weight: normal;
	color: #bbb;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
	white-space: -pre-wrap;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
}
b {font-weight: normal}
b.BOLD {color: #fff}
b.ITA {font-style: italic}
b.UND {text-decoration: underline}
b.STR {text-decoration: line-through}
b.UNDSTR {text-decoration: underline line-through}
b.BLK {color: #000000}
b.RED {color: #aa0000}
b.GRN {color: #00aa00}
b.YEL {color: #aa5500}
b.BLU {color: #0000aa}
b.MAG {color: #aa00aa}
b.CYN {color: #00aaaa}
b.WHI {color: #aaaaaa}
b.HIK {color: #555555}
b.HIR {color: #ff5555}
b.HIG {color: #55ff55}
b.HIY {color: #ffff55}
b.HIB {color: #5555ff}
b.HIM {color: #ff55ff}
b.HIC {color: #55ffff}
b.HIW {color: #ffffff}
b.BBLK {background-color: #000000}
b.BRED {background-color: #aa0000}
b.BGRN {background-color: #00aa00}
b.BYEL {background-color: #aa5500}
b.BBLU {background-color: #0000aa}
b.BMAG {background-color: #aa00aa}
b.BCYN {background-color: #00aaaa}
b.BWHI {background-color: #aaaaaa}
</style>
</head>
<body>
<pre>admlocal@devOps:~/leantime_ansible$ nano molecule/q&#x232B;default/verify.yml 
BB
<hr>
B<b class="BLK BWHI">[ A ler... ]B</b>B<b class="BLK BWHI">[ 89 linhas lidas ]B</b>B<b class="BLK BWHI">  GNU nano 4.8                                                                    molecule/default/verify.yml                                                                                B</b>&crarr;
B<b class="BLK BWHI">^GB</b> AjudaB<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> ProcurarB<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> Recuar&crarr;
B<b class="BLK BWHI">^XB</b> SairB<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B---&crarr;
<b class=CYN># Tutorial de inspiração para a infraestrutura conduzida por teste no site</b>&crarr;
# https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/&crarr;
B- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: "Simulação: Atualizar a cache do sistema"apt:&#x232B;&#x232B;update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache está atualizada"fail_msg: "ERRO: Existem actualizações pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:&#x232B;&#x232B;upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: O sistema operativo está atualizado"fail_msg: "ERRO: Existem actualizações pendentes"- name: "Teste: a cache encontra-se atualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache está atualizada"fail_msg: "ERRO: Existem atualizações pendentes"- name: "Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas"apt:&crarr;
  - name: "Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas"&crarr;
    apt: pkg:- mc - screen    - git    - apache2    - mysql-server- php    - php-mysql    - php-ldap  - php-cli- php-soap- php-json  - graphviz  - php-xml- php-gd    - php-zip  - libapache2-mod-php- php-devlibmcrypt-dev- gcc- make- autoconf    - libc-dev  - pkg-config- pwgen  - curl  - unzip- zip    - php-mbstring  - expect- net-toolspython3-mysqldb- python3-apt- python3-pycurlcheck_mode: true  register: estado&crarr;
  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
      fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
success_msg: "SUCESSO: As dependencias estavam instaladas"&crarr;
- not estado.changed&crarr;
that:&crarr;
assert:&crarr;
- name: "Teste: as dependencias encontra-se instaladas?"&crarr;
register: estado&crarr;
check_mode: true&crarr;
- python3-pycurl&crarr;
- python3-apt&crarr;
- python3-mysqldb&crarr;
- net-tools&crarr;
- expect&crarr;
- php-mbstring&crarr;
- zip&crarr;
- unzip&crarr;
- curl&crarr;
  &crarr;
B<b class="BLK BWHI">ModificadoB</b>&crarr;
  - name: "&crarr;
  &crarr;
  &crarr;
<b class=CYN>  #</b>B<b class=CYN> </b>B<b class=CYN>F</b>B<b class=CYN>o</b>B<b class=CYN>n</b>B<b class=CYN>t</b>B<b class=CYN>e</b>B<b class=CYN>:</b>B&#x232B; &#x232B;<b class=CYN> </b>B<b class=CYN>d</b>B<b class=CYN>e</b>B<b class=CYN> </b>B<b class=CYN>i</b>B<b class=CYN>n</b>B<b class=CYN>s</b>B<b class=CYN>p</b>B<b class=CYN>i</b>B<b class=CYN>r</b>B<b class=CYN>a</b>B<b class=CYN>ç</b>B<b class=CYN>ã</b>B<b class=CYN>o</b>B<b class=CYN>:</b>B<b class=CYN> </b>B<b class=CYN>h</b>B<b class=CYN>t</b>B<b class=CYN>t</b>B<b class=CYN>p</b>B<b class=CYN>s</b>B<b class=CYN>:</b>B<b class=CYN>/</b>B<b class=CYN>/</b>B<b class=CYN>d</b>B<b class=CYN>o</b>B<b class=CYN>c</b>B<b class=CYN>s</b>B<b class=CYN>.</b>B<b class=CYN>a</b>B<b class=CYN>n</b>B<b class=CYN>s</b>B<b class=CYN>i</b>B<b class=CYN>b</b>B<b class=CYN>l</b>B<b class=CYN>e</b>B<b class=CYN>.</b>B<b class=CYN>c</b>B<b class=CYN>o</b>B<b class=CYN>m</b>B<b class=CYN>/</b>B<b class=CYN>a</b>B<b class=CYN>n</b>B<b class=CYN>s</b>B<b class=CYN>i</b>B<b class=CYN>b</b>B<b class=CYN>l</b>B<b class=CYN>e</b>B<b class=CYN>/</b>B<b class=CYN>c</b>B<b class=CYN>o</b>B<b class=CYN>l</b>B<b class=CYN>l</b>B<b class=CYN>e</b>B&#x232B; &#x232B;&#x232B; &#x232B;&#x232B; &#x232B;&#x232B; &#x232B;&#x232B; &#x232B;<b class=CYN>l</b>B<b class=CYN>a</b>B<b class=CYN>t</b>B<b class=CYN>e</b>B<b class=CYN>s</b>B<b class=CYN>t</b>B<b class=CYN>/</b>B<b class=CYN>c</b>B<b class=CYN>o</b>B<b class=CYN>l</b>B<b class=CYN>l</b>B<b class=CYN>e</b>B<b class=CYN>c</b>B<b class=CYN>t</b>B<b class=CYN>i</b>B<b class=CYN>o</b>B<b class=CYN>n</b>B<b class=CYN>s</b>B<b class=CYN>(</b>B&#x232B; &#x232B;<b class=CYN>/</b>B<b class=CYN>a</b>B<b class=CYN>n</b>B<b class=CYN>s</b>B<b class=CYN>i</b>B<b class=CYN>b</b>B<b class=CYN>l</b>B<b class=CYN>e</b>B<b class=CYN>/</b>B<b class=CYN>b</b>B<b class=CYN>u</b>B<b class=CYN>i</b>B<b class=CYN>l</b>B<b class=CYN>t</b>B<b class=CYN>i</b>B<b class=CYN>n</b>B<b class=CYN>/</b>B<b class=CYN>s</b>B<b class=CYN>e</b>B<b class=CYN>r</b>B<b class=CYN>v</b>B<b class=CYN>i</b>B<b class=CYN>c</b>B<b class=CYN>e</b>B<b class=CYN>_</b>B<b class=CYN>m</b>B<b class=CYN>o</b>B<b class=CYN>d</b>B<b class=CYN>u</b>B<b class=CYN>l</b>B<b class=CYN>e</b>B<b class=CYN>.</b>B<b class=CYN>h</b>B<b class=CYN>t</b>B<b class=CYN>m</b>B<b class=CYN>l</b>BSimulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque"&crarr;
    service:&crarr;
      name: apach2&crarr;
      state: started&crarr;
      enabled: true&crarr;
    check_mode: true&crarr;
       &#x232B;&#x232B;&#x232B;register e&#x232B; &#x232B;&#x232B;: estado&#x232B;d&#x232B;&#x232B;&crarr;
&crarr;
  B<b class="BLK BWHI">[ Marcação feita ]B</b>B<b class="BLK BWHI">- name: "Teste: as dependencias encontra-se instaladas?"</b>&crarr;
  BB<b class="BLK BWHI">  assert:</b>&crarr;
  BB<b class="BLK BWHI">    that:</b>&crarr;
  BB<b class="BLK BWHI">    - not estado.changed</b>&crarr;
  BB<b class="BLK BWHI">    success_msg: "SUCESSO: As dependencias estavam instaladas"</b>&crarr;
  BB<b class="BLK BWHI">    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"</b>&crarr;
B    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"B<b class="BLK BWHI">    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"B</b>  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
ed&#x232B;e&crarr;
- name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;O?"&#x232B;&#x232B; ?"&#x232B;&#x232B;s?"&#x232B;&#x232B;e?"&#x232B;&#x232B;r?"&#x232B;&#x232B;v?"&#x232B;&#x232B;i?"&#x232B;&#x232B;ç?"&#x232B;&#x232B;o?"&#x232B;&#x232B; ?"&#x232B;&#x232B;a?"&#x232B;&#x232B;p?"&#x232B;&#x232B;a?"&#x232B;&#x232B;c?"&#x232B;&#x232B;h?"&#x232B;&#x232B;e?"&#x232B;&#x232B;2?"&#x232B;&#x232B; ?"&#x232B;&#x232B;e?"&#x232B;&#x232B;n?"&#x232B;&#x232B;c?"&#x232B;&#x232B;o?"&#x232B;&#x232B;n?"&#x232B;&#x232B;t?"&#x232B;&#x232B;r?"&#x232B;&#x232B;a?"&#x232B;&#x232B;-?"&#x232B;&#x232B;s?"&#x232B;&#x232B;e?"&#x232B;&#x232B; ?"&#x232B;&#x232B;i?"&#x232B;&#x232B;n?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;&#x232B;?"&#x232B;&#x232B;a?"&#x232B;&#x232B;t?"&#x232B;&#x232B;i?"&#x232B;&#x232B;v?"&#x232B;&#x232B;o?"&#x232B;&#x232B; ?"&#x232B;&#x232B;n?"&#x232B;&#x232B;o?"&#x232B;&#x232B; ?"&#x232B;&#x232B;a?"&#x232B;&#x232B;r?"&#x232B;&#x232B;&#x232B;rr?"&#x232B;&#x232B;a?"&#x232B;&#x232B;n?"&#x232B;&#x232B;q?"&#x232B;&#x232B;u?"&#x232B;&#x232B;e?"&#x232B;&#x232B; ?"&#x232B;&#x232B;n?"&#x232B;&#x232B;o?"&#x232B;&#x232B; ?"&#x232B;&#x232B;s?"&#x232B;&#x232B;i?"&#x232B;&#x232B;s?"&#x232B;&#x232B;t?"&#x232B;&#x232B;e?"&#x232B;&#x232B;m?"&#x232B;&#x232B;a?"&#x232B;&#x232B;,?"&#x232B;&#x232B; ?"&#x232B;&#x232B;e?"&#x232B;&#x232B; ?"&#x232B;&#x232B;e?"&#x232B;&#x232B;s?"&#x232B;&#x232B;t?"&#x232B;&#x232B;á?"&#x232B;&#x232B; ?"&#x232B;&#x232B;i?"&#x232B;&#x232B;n?"&#x232B;&#x232B;i?"&#x232B;&#x232B;c?"&#x232B;&#x232B;i?"&#x232B;&#x232B;a?"&#x232B;&#x232B;d?"&#x232B;&#x232B;o?"&#x232B;&#x232B;&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;O"&#x232B; "&#x232B;s"&#x232B;e"&#x232B;r"&#x232B;v"&#x232B;i"&#x232B;ç"&#x232B;o"&#x232B; "&#x232B;a"&#x232B;p"&#x232B;a"&#x232B;c"&#x232B;h"&#x232B;e"&#x232B;2"&#x232B; "&#x232B;e"&#x232B;s"&#x232B;t"&#x232B;á"&#x232B; "&#x232B;c"&#x232B;o"&#x232B;r"&#x232B;&#x232B;rr"&#x232B;e"&#x232B;c"&#x232B;t"&#x232B;a"&#x232B;m"&#x232B;e"&#x232B;n"&#x232B;t"&#x232B;e"&#x232B; "&#x232B;i"&#x232B;n"&#x232B;s"&#x232B;t"&#x232B;a"&#x232B;l"&#x232B;a"&#x232B;d"&#x232B;o"&#x232B; "&#x232B;e"&#x232B; "&#x232B;i"&#x232B;n"&#x232B;i"&#x232B;c"&#x232B;i"&#x232B;a"&#x232B; "&#x232B;c"&#x232B;o"&#x232B;m"&#x232B; "&#x232B;o"&#x232B; "&#x232B;a"&#x232B;r"&#x232B;&#x232B;rr"&#x232B;a"&#x232B;n"&#x232B;q"&#x232B;u"&#x232B;e"&#x232B; "&#x232B;d"&#x232B;o"&#x232B; "&#x232B;s"&#x232B;i"&#x232B;s"&#x232B;r"&#x232B;&#x232B;"&#x232B;t"&#x232B;e"&#x232B;m"&#x232B;a"&#x232B;&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;O"&#x232B; "&#x232B;s"&#x232B;e"&#x232B;r"&#x232B;v"&#x232B;i"&#x232B;ç"&#x232B;o"&#x232B; "&#x232B;a"&#x232B;p"&#x232B;a"&#x232B;c"&#x232B;h"&#x232B;e"&#x232B;2"&#x232B; "&#x232B;n"&#x232B;ã"&#x232B;o"&#x232B; "&#x232B;s"&#x232B;e"&#x232B; "&#x232B;e"&#x232B;n"&#x232B;c"&#x232B;o"&#x232B;n"&#x232B;t"&#x232B;r"&#x232B;a"&#x232B; "&#x232B;c"&#x232B;o"&#x232B;r"&#x232B;&#x232B;rr"&#x232B;e"&#x232B;c"&#x232B;a"&#x232B;t"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;t"&#x232B;a"&#x232B;m"&#x232B;e"&#x232B;n"&#x232B;t"&#x232B;e"&#x232B; "&#x232B;i"&#x232B;n"&#x232B;s"&#x232B;t"&#x232B;a"&#x232B;l"&#x232B;d"&#x232B;o"&#x232B;&#x232B;&#x232B;&#x232B;lado"&#x232B;&#x232B;&#x232B;&crarr;
                      B<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> SegurançaB<b class="BLK BWHI">CB</b> Cancelar                        B<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> Prepor         B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  B</b> B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 105 linhas escritas ]B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> Procurar      B<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Sair    B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
&crarr;
B<b class="BLK BWHI">ModificadoB</b>&crarr;
 - name: "Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?"&crarr;
 &#x232B; &#x232B; &#x232B;  - name: "Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?"&crarr;
   &crarr;
  &crarr;
                      B<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> SegurançaB<b class="BLK BWHI">CB</b> Cancelar                        B<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> Prepor         B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  B</b> B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 105 linhas escritas ]B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> Procurar      B<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Sair    B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;

<hr>
&crarr;
admlocal@devOps:~/leantime_ansible$ nano molecule/default/verify.yml &#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;ansible-lint
Loading custom .yamllint config file, this extends our internal yamllint config.
admlocal@devOps:~/leantime_ansible$ molecule verify
<b class=BLU>INFO    </b> default scenario test matrix: verify
<b class=BLU>INFO    </b> Performing prerun<b class=YEL>...</b>
<b class=BLU>INFO    </b> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<b class=BLU>INFO    </b> Added <b class=YEL>ANSIBLE_ROLES_PATH</b>=~<b class=MAG>/.ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/usr/share/ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/etc/ansible/</b><b style="color:#ff55ff;">roles</b>:.<b class=MAG>/.cache/</b><b style="color:#ff55ff;">roles</b>
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>verify</b>
<b class=BLU>INFO    </b> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simulação: Atualizar a cache do sistema] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: O sistema operativo está atualizado"</b>
<b class=GRN>}</b>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas] *******************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: As dependencias estavam instaladas"</b>
<b class=GRN>}</b>

TASK [Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<b class=YEL>changed: [ubuntu-20.04]</b>

TASK [Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?] **************************************************************************************************
<b class=RED>fatal: [ubuntu-20.04]: FAILED! =&gt; {</b>
<b class=RED>    "assertion": "not estado.changed",</b>
<b class=RED>    "changed": false,</b>
<b class=RED>    "evaluated_to": false,</b>
<b class=RED>    "msg": "ERRO: O serviço apache2 não se encontra correctamente instalado"</b>
<b class=RED>}</b>

PLAY RECAP **********************************************************************************************************************************************************************************
<b class=RED>ubuntu-20.04</b>               : <b class=GRN>ok=8   </b> <b class=YEL>changed=1   </b> unreachable=0    <b class=RED>failed=1   </b> skipped=0    rescued=0    ignored=0


<b class=HIR>CRITICAL</b> Ansible return code was <b class=HIC>2</b>, command was: ansible-playbook --inventory <b class=MAG>/home/admlocal/.cache/molecule/leantime_ansible/default/</b><b style="color:#ff55ff;">inventory</b> --skip-tags molecule-notest,notest <b class=MAG>/home/admlocal/leantime_ansible/molecule/default/</b><b style="color:#ff55ff;">verify.yml</b>
admlocal@devOps:~/leantime_ansible$ nano -F tasks/tasks.yml 
BB
<hr>
B<b class="BLK BWHI">[ A ler... ]B</b>B<b class="BLK BWHI">[ 46 linhas lidas ]B</b>B<b class="BLK BWHI">  GNU nano 4.8                                                                          tasks/tasks.yml                                                                                      B</b>&crarr;
B<b class="BLK BWHI">^GB</b> AjudaB<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> ProcurarB<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> Recuar&crarr;
B<b class="BLK BWHI">^XB</b> SairB<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B---- name: Atualiza a cache (equivalente a apt update)apt:&#x232B;&#x232B;update_cache: truecache_valid_time: 3600- name: "Atualiza o sistema operativo"apt:&#x232B;&#x232B;upgrade: safe- name: "Instalar as dependencias necessária ao programa leantime"apt:&#x232B;&#x232B;pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl&crarr;
 - python3-apt    - python3-pycurl&crarr;
B<b class="BLK BWHI">ModificadoB</b>&crarr;
                                B<b class="BLK BWHI">M-FB</b> Novo bufferB<b class="BLK BWHI">^XB</b> Executar comandoB<b class="BLK BWHI">CB</b> Cancelar           B<b class="BLK BWHI">M-NB</b> Sem conversão       B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Ficheiro a ler para o novo buffer [de ./]:                                                                                                                                                   B</b>B<b class="BLK BWHI">m</b>&crarr;
BB<b class="BLK BWHI">o</b>&crarr;
BB<b class="BLK BWHI">l</b>&crarr;
BB<b class="BLK BWHI">e</b>&crarr;
BB<b class="BLK BWHI">cule/</b>&crarr;
BB<b class="BLK BWHI">v</b>&crarr;
BB<b class="BLK BWHI">e</b>&crarr;
BB<b class="BLK BWHI">r</b>&crarr;
B&#x266A;&crarr;
&#x232B;B<b class="BLK BWHI"> </b>&crarr;
B&#x232B;B<b class="BLK BWHI"> </b>&crarr;
B&#x232B;B<b class="BLK BWHI"> </b>&crarr;
BB<b class="BLK BWHI">d</b>&crarr;
BB<b class="BLK BWHI">e</b>&crarr;
BB<b class="BLK BWHI">f</b>&crarr;
BB<b class="BLK BWHI">ault/</b>&crarr;
BB<b class="BLK BWHI">v</b>&crarr;
BB<b class="BLK BWHI">e</b>&crarr;
BB<b class="BLK BWHI">r</b>&crarr;
BB<b class="BLK BWHI">ify.yml</b>&crarr;
B B<b class="BLK BWHI">[ A ler... ]B</b>B<b class="BLK BWHI">[ 105 linhas lidas ]B</b>B<b class="BLK BWHI">[2/2]       molecule/default/verify.yml          B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> ProcurarB<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Fechar  B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B---&crarr;
<b class=CYN># Tutorial de inspiração para a infraestrutura conduzida por teste no site</b>&crarr;
# https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/&crarr;
B- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: "Simulação: Atualizar a cache do sistema"apt:&#x232B;&#x232B;update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache está atualizada"fail_msg: "ERRO: Existem actualizações pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:&#x232B;&#x232B;upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: O sistema operativo está atualizado"fail_msg: "ERRO: Existem actualizações pendentes"- name: "Teste: a cache encontra-se atualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache está atualizada"fail_msg: "ERRO: Existem atualizações pendentes"- name: "Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas"apt:&crarr;
  - name: "Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas"&crarr;
    apt: pkg:- mc - screen    - git    - apache2    - mysql-server- php    - php-mysql    - php-ldap  - php-cli- php-soap- php-json  - graphviz  - php-xml- php-gd    - php-zip  - libapache2-mod-php- php-devlibmcrypt-dev- gcc- make- autoconf    - libc-dev  - pkg-config- pwgen  - curl  - unzip- zip    - php-mbstring  - expect- net-toolspython3-mysqldb- python3-apt- python3-pycurlcheck_mode: true  register: estado&crarr;
  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
      fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
<b class=CYN>  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>B- name: "Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apach2state: startedenabled: truecheck_mode: trueregister: estado&crarr;
  - name: "Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?"assert:that:not estado.changedsuccess_msg: "SUCESSO: O serviço apache2 está correctamente instalado e inicia com o arranque do sistema"fail_msg: "ERRO: O serviço apache2 não se encontra correctamente instalado"&crarr;
&#x232B;B<b class="BLK BWHI">ModificadoB</b>e2&#x232B;                      B<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> SegurançaB<b class="BLK BWHI">CB</b> Cancelar                        B<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> Prepor         B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  B</b> B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 105 linhas escritas ]B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> Procurar      B<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Fechar  B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B<b class="BLK BWHI">1      tasks/tasks.yml      ModificadoB</b>B<b class="BLK BWHI">[ tasks.yml -- 47 linhas ]B</b>B<b class="BLK BWHI">1B</b>Sair  &crarr;
B - python3-apt- python3-pycurl&crarr;
B<b class="BLK BWHI">Gravar buffer modificado?                                                                                                                                                                     SB</b> Sim&crarr;
B<b class="BLK BWHI"> NB</b> Não B<b class="BLK BWHI">^CB</b> Cancelar&#x232B;&crarr;
B<b class="BLK BWHI">^GB</b> AjudaB<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> Segurança&crarr;
B<b class="BLK BWHI">^CB</b> CancelarB<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> PreporB<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: tasks/tasks.yml</b>&crarr;
B B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 47 linhas escritas ]B</b>&crarr;

<hr>
&crarr;
admlocal@devOps:~/leantime_ansible$ nano -F tasks/tasks.yml &#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;molecule verify
<b class=BLU>INFO    </b> default scenario test matrix: verify
<b class=BLU>INFO    </b> Performing prerun<b class=YEL>...</b>
<b class=BLU>INFO    </b> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<b class=BLU>INFO    </b> Added <b class=YEL>ANSIBLE_ROLES_PATH</b>=~<b class=MAG>/.ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/usr/share/ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/etc/ansible/</b><b style="color:#ff55ff;">roles</b>:.<b class=MAG>/.cache/</b><b style="color:#ff55ff;">roles</b>
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>verify</b>
<b class=BLU>INFO    </b> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simulação: Atualizar a cache do sistema] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: O sistema operativo está atualizado"</b>
<b class=GRN>}</b>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas] *******************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: As dependencias estavam instaladas"</b>
<b class=GRN>}</b>

TASK [Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?] **************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: O serviço apache2 está correctamente instalado e inicia com o arranque do sistema"</b>
<b class=GRN>}</b>

PLAY RECAP **********************************************************************************************************************************************************************************
<b class=GRN>ubuntu-20.04</b>               : <b class=GRN>ok=9   </b> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<b class=BLU>INFO    </b> Verifier completed successfully.
admlocal@devOps:~/leantime_ansible$ molecule verify
<b class=BLU>INFO    </b> default scenario test matrix: verify
<b class=BLU>INFO    </b> Performing prerun<b class=YEL>...</b>
<b class=BLU>INFO    </b> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<b class=BLU>INFO    </b> Added <b class=YEL>ANSIBLE_ROLES_PATH</b>=~<b class=MAG>/.ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/usr/share/ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/etc/ansible/</b><b style="color:#ff55ff;">roles</b>:.<b class=MAG>/.cache/</b><b style="color:#ff55ff;">roles</b>
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>verify</b>
<b class=BLU>INFO    </b> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simulação: Atualizar a cache do sistema] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: O sistema operativo está atualizado"</b>
<b class=GRN>}</b>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas] *******************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: As dependencias estavam instaladas"</b>
<b class=GRN>}</b>

TASK [Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?] **************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: O serviço apache2 está correctamente instalado e inicia com o arranque do sistema"</b>
<b class=GRN>}</b>

PLAY RECAP **********************************************************************************************************************************************************************************
<b class=GRN>ubuntu-20.04</b>               : <b class=GRN>ok=9   </b> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<b class=BLU>INFO    </b> Verifier completed successfully.
admlocal@devOps:~/leantime_ansible$ molecule verify&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;nano -F tasks/tasks.yml 
BB
<hr>
B<b class="BLK BWHI">[ A ler... ]B</b>B<b class="BLK BWHI">[ 47 linhas lidas ]B</b>B<b class="BLK BWHI">  GNU nano 4.8                                                                          tasks/tasks.yml                                                                                      B</b>&crarr;
B<b class="BLK BWHI">^GB</b> AjudaB<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> ProcurarB<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> Recuar&crarr;
B<b class="BLK BWHI">^XB</b> SairB<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B---- name: Atualiza a cache (equivalente a apt update)apt:&#x232B;&#x232B;update_cache: truecache_valid_time: 3600- name: "Atualiza o sistema operativo"apt:&#x232B;&#x232B;upgrade: safe- name: "Instalar as dependencias necessária ao programa leantime"apt:&#x232B;&#x232B;pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl&crarr;
 - python3-apt    - python3-pycurl&crarr;
                                B<b class="BLK BWHI">M-FB</b> Novo bufferB<b class="BLK BWHI">^XB</b> Executar comandoB<b class="BLK BWHI">CB</b> Cancelar           B<b class="BLK BWHI">M-NB</b> Sem conversão       B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Ficheiro a ler para o novo buffer [de ./]:                                                                                                                                                   B</b>B<b class="BLK BWHI">m</b>&crarr;
BB<b class="BLK BWHI">o</b>&crarr;
BB<b class="BLK BWHI">l</b>&crarr;
BB<b class="BLK BWHI">e</b>&crarr;
BB<b class="BLK BWHI">cule/</b>&crarr;
BB<b class="BLK BWHI">d</b>&crarr;
BB<b class="BLK BWHI">e</b>&crarr;
BB<b class="BLK BWHI">f</b>&crarr;
BB<b class="BLK BWHI">ault/</b>&crarr;
BB<b class="BLK BWHI">t</b>&crarr;
B&#x266A;&crarr;
&#x232B;B<b class="BLK BWHI"> </b>&crarr;
BB<b class="BLK BWHI">v</b>&crarr;
BB<b class="BLK BWHI">e</b>&crarr;
BB<b class="BLK BWHI">r</b>&crarr;
BB<b class="BLK BWHI">ify.yml</b>&crarr;
B B<b class="BLK BWHI">[ A ler... ]B</b>B<b class="BLK BWHI">[ 105 linhas lidas ]B</b>B<b class="BLK BWHI">[2/2]       molecule/default/verify.ymlB</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> ProcurarB<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Fechar  B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B---&crarr;
<b class=CYN># Tutorial de inspiração para a infraestrutura conduzida por teste no site</b>&crarr;
# https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/&crarr;
B- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: "Simulação: Atualizar a cache do sistema"apt:&#x232B;&#x232B;update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache está atualizada"fail_msg: "ERRO: Existem actualizações pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:&#x232B;&#x232B;upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: O sistema operativo está atualizado"fail_msg: "ERRO: Existem actualizações pendentes"- name: "Teste: a cache encontra-se atualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache está atualizada"fail_msg: "ERRO: Existem atualizações pendentes"- name: "Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas"apt:&crarr;
  - name: "Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas"&crarr;
    apt: pkg:- mc - screen    - git    - apache2    - mysql-server- php    - php-mysql    - php-ldap  - php-cli- php-soap- php-json  - graphviz  - php-xml- php-gd    - php-zip  - libapache2-mod-php- php-devlibmcrypt-dev- gcc- make- autoconf    - libc-dev  - pkg-config- pwgen  - curl  - unzip- zip    - php-mbstring  - expect- net-toolspython3-mysqldb- python3-apt- python3-pycurlcheck_mode: true  register: estado&crarr;
  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
      fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"&crarr;
<b class=CYN>  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>B- name: "Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: trueregister: estado&crarr;
  - name: "Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?"assert:that:not estado.changedsuccess_msg: "SUCESSO: O serviço apache2 está correctamente instalado e inicia com o arranque do sistema"fail_msg: "ERRO: O serviço apache2 não se encontra correctamente instalado"&crarr;
 B<b class="BLK BWHI">[ Marcação feita ]B</b>&crarr;
B<b class="BLK BWHI">  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>&crarr;
BB<b class="BLK BWHI">  - name: "Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque"</b>&crarr;
BB<b class="BLK BWHI">    service:</b>&crarr;
BB<b class="BLK BWHI">      name: apache2</b>&crarr;
BB<b class="BLK BWHI">      state: started</b>&crarr;
BB<b class="BLK BWHI">      enabled: true</b>&crarr;
BB<b class="BLK BWHI">    check_mode: true</b>&crarr;
BB<b class="BLK BWHI">    register: estado</b>&crarr;
BB<b class="BLK BWHI">ModificadoB</b><b class=CYN>  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>B- name: "Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: trueregister: estado&crarr;
                      B<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> SegurançaB<b class="BLK BWHI">CB</b> Cancelar                        B<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> Prepor         B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  B</b> B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 105 linhas escritas ]B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> Procurar      B<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Fechar  B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B<b class="BLK BWHI">1      tasks/tasks.yml      B</b>B<b class="BLK BWHI">[ tasks.yml -- 47 linhas ]B</b>B<b class="BLK BWHI">1B</b>Sair  &crarr;
B - python3-apt- python3-pycurl&crarr;
B<b class="BLK BWHI">ModificadoB</b>&crarr;
<b class=CYN>  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>B- name: "Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: trueregister: estado&crarr;
&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;&#x232B;"&#x232B;I"&#x232B;n"&#x232B;s"&#x232B;t"&#x232B;a"&#x232B;l"&#x232B;a"&#x232B; "&#x232B;o"&#x232B; "&#x232B;s"&#x232B;e"&#x232B;r"&#x232B;v"&#x232B;i"&#x232B;c"&#x232B;&#x232B;"&#x232B;ç"&#x232B;o"&#x232B; "&#x232B;a"&#x232B;p"&#x232B;a"&#x232B;c"&#x232B;h"&#x232B;e"&#x232B;2"&#x232B; "&#x232B;n"&#x232B;o"&#x232B; "&#x232B;a"&#x232B;r"&#x232B;&#x232B;rr"&#x232B;a"&#x232B;n"&#x232B;q"&#x232B;u"&#x232B;e"&#x232B; "&#x232B;d"&#x232B;o"&#x232B; "&#x232B;s"&#x232B;i"&#x232B;s"&#x232B;t"&#x232B;e"&#x232B;m"&#x232B;a"&#x232B;d&#x232B;e&crarr;
                      B<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> SegurançaB<b class="BLK BWHI">CB</b> Cancelar                        B<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> Prepor         B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: tasks/tasks.yml                                                                                                                                              B</b> B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 55 linhas escritas ]B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> Procurar      B<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Sair    B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B<b class="BLK BWHI">ModificadoB</b>&crarr;
                      B<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> SegurançaB<b class="BLK BWHI">CB</b> Cancelar                        B<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> Prepor         B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: tasks/tasks.yml                                                                                                                                              B</b> B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 53 linhas escritas ]B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> Procurar      B<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Sair    B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;

<hr>
&crarr;
admlocal@devOps:~/leantime_ansible$ molecule converge
<b class=BLU>INFO    </b> default scenario test matrix: dependency, create, prepare, converge
<b class=BLU>INFO    </b> Performing prerun<b class=YEL>...</b>
<b class=BLU>INFO    </b> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<b class=BLU>INFO    </b> Added <b class=YEL>ANSIBLE_ROLES_PATH</b>=~<b class=MAG>/.ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/usr/share/ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/etc/ansible/</b><b style="color:#ff55ff;">roles</b>:.<b class=MAG>/.cache/</b><b style="color:#ff55ff;">roles</b>
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>dependency</b>
<b class=RED>WARNING </b> Skipping, missing the requirements file.
<b class=RED>WARNING </b> Skipping, missing the requirements file.
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>create</b>
<b class=RED>WARNING </b> Skipping, instances already created.
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>prepare</b>
<b class=RED>WARNING </b> Skipping, instances already prepared.
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>converge</b>

PLAY [Converge] *****************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Include leantime_ansible] *************************************************************************************************************************************************************
<b class=RED>ERROR! Syntax Error while loading YAML.</b>
<b class=RED>  did not find expected &lt;document start&gt;</b>

<b class=RED>The error appears to be in '/home/admlocal/leantime_ansible/tasks/tasks.yml': line 49, column 3, but may</b>
<b class=RED>be elsewhere in the file depending on the exact syntax problem.</b>

<b class=RED>The offending line appears to be:</b>

<b class=RED>  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>
<b class=RED>  - name: "Instala o serviço apache2 no arranque do sistema"</b>
<b class=RED>  ^ here</b>

PLAY RECAP **********************************************************************************************************************************************************************************
<b class=GRN>ubuntu-20.04</b>               : <b class=GRN>ok=1   </b> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0


<b class=HIR>CRITICAL</b> Ansible return code was <b class=HIC>2</b>, command was: ansible-playbook --inventory <b class=MAG>/home/admlocal/.cache/molecule/leantime_ansible/default/</b><b style="color:#ff55ff;">inventory</b> --skip-tags molecule-notest,notest <b class=MAG>/home/admlocal/leantime_ansible/molecule/default/</b><b style="color:#ff55ff;">converge.yml</b>
admlocal@devOps:~/leantime_ansible$ ñano tasks/&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;n          tasks.yml 
BB
<hr>
B<b class="BLK BWHI">[ A ler... ]B</b>B<b class="BLK BWHI">[ 53 linhas lidas ]B</b>B<b class="BLK BWHI">  GNU nano 4.8                                                                          tasks/tasks.yml                                                                                      B</b>&crarr;
B<b class="BLK BWHI">^GB</b> AjudaB<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> ProcurarB<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> Recuar&crarr;
B<b class="BLK BWHI">^XB</b> SairB<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
B---- name: Atualiza a cache (equivalente a apt update)apt:&#x232B;&#x232B;update_cache: truecache_valid_time: 3600- name: "Atualiza o sistema operativo"apt:&#x232B;&#x232B;upgrade: safe- name: "Instalar as dependencias necessária ao programa leantime"apt:&#x232B;&#x232B;pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl&crarr;
 - python3-apt    - python3-pycurl&crarr;
<b class=CYN>  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>B- name: "Instala o serviço apache2 no arranque do sistema"service:   name: apache2 state: startedenabled: true&crarr;
  &crarr;
---- name: Atualiza a cache (equivalente a apt update)apt: update_cache: true cache_valid_time: 3600&crarr;
- name: "Atualiza o sistema operativo"apt: upgrade: safe- name: "Instalar as dependencias necessária ao programa leantime"apt:&#x232B;&#x232B;pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl&crarr;
   - python3-apt    - python3-pycurl&crarr;
<b class=CYN>  # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>B- name: "Instala o serviço apache2 no arranque do sistema"service:   name: apache2 state: startedenabled: true&crarr;
  B<b class="BLK BWHI">ModificadoB</b>&crarr;
<b class=CYN>   # Fonte de inspiração: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</b>&crarr;
   B&#x232B;&crarr;
   - name: "Instala o serviço apache2 no arranque do sistema"&crarr;
   &crarr;
     service:&crarr;
 name: apache2&crarr;
 state: started&crarr;
&crarr;
 enabled: true                      B<b class="BLK BWHI">M-DB</b> Formato DOSB<b class="BLK BWHI">M-AB</b> AnexarB<b class="BLK BWHI">M-BB</b> SegurançaB<b class="BLK BWHI">CB</b> Cancelar                        B<b class="BLK BWHI">M-MB</b> Formato MacB<b class="BLK BWHI">M-PB</b> Prepor         B<b class="BLK BWHI">^TB</b> P/ ficheiros&crarr;
B<b class="BLK BWHI">Nome do ficheiro onde escrever: tasks/tasks.yml                                                                                                                                              B</b> B<b class="BLK BWHI">[ A escrever... ]B</b>B<b class="BLK BWHI">          B</b>B<b class="BLK BWHI">[ 53 linhas escritas ]B</b>B<b class="BLK BWHI">^OB</b> GravarB<b class="BLK BWHI">^WB</b> Procurar      B<b class="BLK BWHI">^KB</b> Cortar txt    B<b class="BLK BWHI">^JB</b> Justificar    B<b class="BLK BWHI">^CB</b> Pos cursor    B<b class="BLK BWHI">M-UB</b> Desfazer     B<b class="BLK BWHI">M-AB</b> Marcar txt   B<b class="BLK BWHI">M-]B</b> Parênteses   B<b class="BLK BWHI">M-QB</b> Anterior     B<b class="BLK BWHI">^BB</b> RecuarB<b class="BLK BWHI">XB</b> Sair    B<b class="BLK BWHI">^RB</b> CarregarB<b class="BLK BWHI">^\B</b> Substituir    B<b class="BLK BWHI">^UB</b> Colar txt     B<b class="BLK BWHI">^TB</b> Ortografia    B<b class="BLK BWHI">^_B</b> Ir p/ linha   B<b class="BLK BWHI">M-EB</b> RefazerB<b class="BLK BWHI">M-6B</b> Copiar txt   B<b class="BLK BWHI">^QB</b> Onde antes    B<b class="BLK BWHI">M-WB</b> Seguinte     B<b class="BLK BWHI">^FB</b> Avançar&crarr;
&crarr;

<hr>
&crarr;
admlocal@devOps:~/leantime_ansible$ nano tasks/tasks.yml &#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;&#x232B;molecule converge
<b class=BLU>INFO    </b> default scenario test matrix: dependency, create, prepare, converge
<b class=BLU>INFO    </b> Performing prerun<b class=YEL>...</b>
<b class=BLU>INFO    </b> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<b class=BLU>INFO    </b> Added <b class=YEL>ANSIBLE_ROLES_PATH</b>=~<b class=MAG>/.ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/usr/share/ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/etc/ansible/</b><b style="color:#ff55ff;">roles</b>:.<b class=MAG>/.cache/</b><b style="color:#ff55ff;">roles</b>
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>dependency</b>
<b class=RED>WARNING </b> Skipping, missing the requirements file.
<b class=RED>WARNING </b> Skipping, missing the requirements file.
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>create</b>
<b class=RED>WARNING </b> Skipping, instances already created.
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>prepare</b>
<b class=RED>WARNING </b> Skipping, instances already prepared.
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>converge</b>

PLAY [Converge] *****************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Include leantime_ansible] *************************************************************************************************************************************************************

TASK [leantime_ansible : Atualiza a cache (equivalente a apt update)] ***********************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [leantime_ansible : Atualiza o sistema operativo] **************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [leantime_ansible : Instalar as dependencias necessária ao programa leantime] **********************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [leantime_ansible : Instala o serviço apache2 no arranque do sistema] ******************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

PLAY RECAP **********************************************************************************************************************************************************************************
<b class=GRN>ubuntu-20.04</b>               : <b class=GRN>ok=5   </b> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

admlocal@devOps:~/leantime_ansible$ molecule verify
<b class=BLU>INFO    </b> default scenario test matrix: verify
<b class=BLU>INFO    </b> Performing prerun<b class=YEL>...</b>
<b class=BLU>INFO    </b> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<b class=BLU>INFO    </b> Added <b class=YEL>ANSIBLE_ROLES_PATH</b>=~<b class=MAG>/.ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/usr/share/ansible/</b><b style="color:#ff55ff;">roles</b>:<b class=MAG>/etc/ansible/</b><b style="color:#ff55ff;">roles</b>:.<b class=MAG>/.cache/</b><b style="color:#ff55ff;">roles</b>
<b class=BLU>INFO    </b> <b class=HIK>Running </b><b class=HIK>default</b><b class=HIK> &gt; </b><b class=HIK>verify</b>
<b class=BLU>INFO    </b> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simulação: Atualizar a cache do sistema] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: O sistema operativo está atualizado"</b>
<b class=GRN>}</b>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: A cache está atualizada"</b>
<b class=GRN>}</b>

TASK [Simulação: testa se as aplicações dependencia do software leantime se encontram instaladas] *******************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: As dependencias estavam instaladas"</b>
<b class=GRN>}</b>

TASK [Simulação: Testar se o serviço apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<b class=GRN>ok: [ubuntu-20.04]</b>

TASK [Teste: O serviço apache2 encontra-se ativo no arranque no sistema, e está iniciado?] **************************************************************************************************
<b class=GRN>ok: [ubuntu-20.04] =&gt; {</b>
<b class=GRN>    "changed": false,</b>
<b class=GRN>    "msg": "SUCESSO: O serviço apache2 está correctamente instalado e inicia com o arranque do sistema"</b>
<b class=GRN>}</b>

PLAY RECAP **********************************************************************************************************************************************************************************
<b class=GRN>ubuntu-20.04</b>               : <b class=GRN>ok=9   </b> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<b class=BLU>INFO    </b> Verifier completed successfully.
admlocal@devOps:~/leantime_ansible$ exit
exit
</pre>
</body>
</html>
