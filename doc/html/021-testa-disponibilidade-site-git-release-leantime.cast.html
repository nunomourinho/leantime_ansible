<span id="line-0">]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano molecule/default/verify.yml </span><br>
<span id="line-1">[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><br><span style="background-color: #AAAAAA; color: #000000">[ 177 linhas lidas ]</span><br><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                          molecule/default/verify.yml                                                       </span><br></span><br>
<span id="line-2"><span style="background-color: #AAAAAA; color: #000000">^G</span><br> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt</span><br>
<span id="line-3"><span style="background-color: #AAAAAA; color: #000000">^X</span><br> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-4">---</span><br>
<span id="line-5"><span style="color: #00aaaa"># Tutorial de inspira√ß√£o para a infraestrutura conduzida por teste no site</span><br>
<span id="line-6"># https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/</span><br>
<span id="line-7"></span><br>- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: "Simula√ß√£o: Atualizar a cache do sistema"apt:update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: O sistema operativo est√° atualizado"</span><br>
<span id="line-8">[?12l[?25h[?25l - not estado.changed success_msg: "SUCESSO: O sistema operativo est√° atualizado" fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"</span><br>
<span id="line-9">  - name: "Teste: a cache encontra-se atualizada?"  assert:    that:    - not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"    fail_msg: "ERRO: Existem atualiza√ß√µes pendentes"</span><br>
<span id="line-10">  - name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"apt:pkg:  - mc  - screen- git    - apache2  - mysql-server- phpphp-mysql- php-ldap- php-cli- php-soap    - php-json  - graphviz- php-xml  - php-gd  - php-zip- libapache2-mod-php    - php-dev  - libmcrypt-dev- gccmake- autoconf</span><br>
<span id="line-11">[?12l[?25h[?25l78- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-aptpython3-pycurlcheck_mode: trueregister: estados dependencias encontra-se instaladas?"s dependencias estavam instaladas"Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"</span><br>
<span id="line-12"><span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span><br>- name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: trueregister: estado</span><br>
<span id="line-13">  - name: "Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"assert:</span><br>
<span id="line-14">[?12l[?25h[?25l  - name: "Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"assert:that:not estado.changedsuccess_msg: "SUCESSO: O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"fail_msg: "ERRO: O servi√ßo apache2 n√£o se encontra correctamente instalado"</span><br>
<span id="line-15"><span style="color: #00aaaa">  # Fonte: https://www.mydailytutorials.com/using-ansible-find-module-search-filesfolder</span><br>- name: "Rotina Auxiliar&gt; Procura o caminho do ficheiro php.ini do servidor apache2"find:paths: /etcpatterns: "php.ini"recurse: trueregister: caminho_php_ini</span><br>
<span id="line-16"><span style="color: #00aaaa">  # Fonte: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/lineinfile_module.html</span><br>- name: "Simula√ß√£o: Ativa a op√ß√£o file_uploads no ficheiro php.ini, utilizando o m√≥dulo lineinfile."  ansible.builtin.lineinfile:  path: "{{ caminho_php_ini.files[0].path }}"regexp: "{{ item.regexp  }}"line: "{{ item.line }}"with_items:- regexp: "^file_uploads"line: "file_uploads = 1" - regexp: "^upload_max_filesize" line: "upload_max_filesize = 1G"  - regexp: "^max_file_uploads"  line: "max_file_uploads = 20"- regexp: "^post_max_size"  line: "post_max_size = 2G"  - regexp: "^memory_limit"    line: "memory_limit = 2G"- regexp: "^max_input_time" line: "max_input_time = 3600"check_mode: true</span><br>
<span id="line-17">[?12l[?25h[?25l78line: "max_input_time = 3600"check_mode: trueregister: estadoAs linhas do php.ini encontram-se alteradas ?"ficheiro php.ini foi alterado com sucesso"Algumas altera√ß√µes ao ficheiro php.ini n√£o tiveram sucesso"<span style="color: #00aaaa">O site deve existir na pasta /var/www/leantime. Este teste visa determinar se a pasta</span><br>
<span id="line-18">  # existe e se temas permiss√µes certas</span><br>
<span id="line-19">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/stat_module.html</span><br>- name: "Simula√ß√£o: Obtem informa√ß√£o sobre a pastas /var/www/leantime"</span><br>
<span id="line-20">    stat:    path: "/var/www/leantime"register: pasta</span><br>
<span id="line-21">  - name: "Teste: A pasta /var/www/leantime existe e tem as permiss√µes certas?"assert:  that:  - pasta.stat.exists- pasta.stat.isdir  - pasta.stat.mode == "0755"- pasta.stat.pw_name == "www-data"  - pasta.stat.gr_name == "www-data"success_msg: "SUCESSO: Permiss√µes correctas no site leantime"fail_msg: "ERRO: Permiss√µes incorrectas no site leantime ou site n√£o existente"</span><br>
<span id="line-22"><span style="color: #00aaaa">  # Outro dos requesitos √© a exist√™ncia de uma base de dados para o site.</span><br>
<span id="line-23">  # Esta base de dados deve ser criada, logo tem de ser testada para determinar se ela existe ou n√£o.</span><br>
<span id="line-24">  # Fonte de inspira√ß√£o: https://serverfault.com/questions/173978/from-a-shell-script-how-can-i-check-whether-a-mysql-database-exists</span><br>- name: "Simula√ß√£o: Verifica se √© necess√°rio criar a base de dados leantime_database"shell: "mysql -u root -e 'use leantime_database'"</span><br>
<span id="line-25">[?12l[?25h[?25l  - name: "Simula√ß√£o: Verifica se √© necess√°rio criar a base de dados leantime_database"shell: "mysql -u root -e 'use leantime_database'"resultfailed_when: false  changed_when: false</span><br>
<span id="line-26">  - name: "Teste: A base de dados leantime_database existe ?"assert:that:- result.rc == 0success_msg: "SUCESSO: A base de dados leantime_database j√° se encontra criada" fail_msg: "ERRO: N√£o existe a base de dados leantime_database"</span><br>
<span id="line-27">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span><br></span><br>
<span id="line-28">[?12l[?25h[?25l[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l</span><br>
<span id="line-29"><span style="color: #00aaaa">  #</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">T</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">s</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">t</span><br>
<span id="line-30"></span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">:</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">O</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">d</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">o</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">w</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">n</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">l</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">o</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">a</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">d</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">d</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">o</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">s</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">o</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">f</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">t</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">w</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">a</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">r</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">l</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">a</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">n</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">t</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">i</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">m</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">d</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">v</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">s</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">r</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">p</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">o</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">s</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">s</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">√≠</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">v</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">l</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">,</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">a</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">p</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">a</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">r</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">t</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">i</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">r</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">d</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">o</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">s</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">i</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">t</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">d</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">o</span><br>[?12l[?25h[?25l<span style="color: #00aaaa"> </span><br>[?12l[?25h[?25l<span style="color: #00aaaa">l</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">a</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">n</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">t</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">i</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">m</span><br>[?12l[?25h[?25l<span style="color: #00aaaa">e</span><br>[?12l[?25h[?25l</span><br>
<span id="line-31">[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l-[?12l[?25h[?25l [?12l[?25h[?25ln[?12l[?25h[?25la[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lS[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25lu[?12l[?25h[?25ll[?12l[?25h[?25la[?12l[?25h[?25l√ß[?12l[?25h[?25l√£[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25lT[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lV[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25li[?12l[?25h[?25lf[?12l[?25h[?25li[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25le[?12l[?25h[?25ln[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25l√ß[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25lg[?12l[?25h[?25li[?12l[?25h[?25lt[?12l[?25h[?25l [?12l[?25h[?25lp[?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25l [?12l[?25h[?25la[?12l[?25h[?25l v[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25ls[?12l[?25h[?25l√£[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25le[?12l[?25h[?25lx[?12l[?25h[?25li[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25l"[?12l[?25h[?25l</span><br>
<span id="line-32">[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25lu[?12l[?25h[?25lr[?12l[?25h[?25li[?12l[?25h[?25l:[?12l[?25h[?25l</span><br>
<span id="line-33">[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25lu[?12l[?25h[?25lr[?12l[?25h[?25ll[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lh[?12l[?25h[?25lt[?12l[?25h[?25lt[?12l[?25h[?25lp[?12l[?25h[?25ls[?12l[?25h[?25l:[?12l[?25h[?25l/[?12l[?25h[?25l/[?12l[?25h[?25lg[?12l[?25h[?25li[?12l[?25h[?25lt[?12l[?25h[?25lh[?12l[?25h[?25lu[?12l[?25h[?25lb[?12l[?25h[?25l.[?12l[?25h[?25lc[?12l[?25h[?25lo[?12l[?25h[?25lm[?12l[?25h[?25l/[?12l[?25h[?25lL[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l/[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l/[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ls[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25l/[?12l[?25h[?25ld[?12l[?25h[?25lo[?12l[?25h[?25lw[?12l[?25h[?25ln[?12l[?25h[?25ll[?12l[?25h[?25lo[?12l[?25h[?25la[?12l[?25h[?25ld[?12l[?25h[?25l/[?12l[?25h[?25l{[?12l[?25h[?25l{[?12l[?25h[?25l [?12l[?25h[?25lv[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25ls[?12l[?25h[?25la[?12l[?25h[?25lo[?12l[?25h[?25l_[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25l}[?12l[?25h[?25l}[?12l[?25h[?25l/[?12l[?25h[?25lL[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l-[?12l[?25h[?25l{[?12l[?25h[?25l{[?12l[?25h[?25l [?12l[?25h[?25lv[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25ls[?12l[?25h[?25la[?12l[?25h[?25lo[?12l[?25h[?25l_[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25l}[?12l[?25h[?25l}[?12l[?25h[?25l.[?12l[?25h[?25lz[?12l[?25h[?25li[?12l[?25h[?25lp[?12l[?25h[?25l</span><br>
<span id="line-34">[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25lg[?12l[?25h[?25li[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lu[?12l[?25h[?25ll[?12l[?25h[?25lt[?12l[?25h[?25la[?12l[?25h[?25ld[?12l[?25h[?25lo[?12l[?25h[?25l</span><br>
<span id="line-35">  [?12l[?25h[?25l</span><br>
<span id="line-36">[?12l[?25h[?25l</span><br>
<span id="line-37">[?12l[?25h[?25l</span><br>
<span id="line-38">[?12l[?25h[?25l[?12l[?25h[?25l line: "max_input_time = 3600"check_mode: trueestado</span><br>
<span id="line-39">  - name: "Teste: As linhas do php.ini encontram-se alteradas ?"assert:    that:  - not estado.changedsuccess_msg: "SUCESSO: O ficheiro php.ini foi alterado com sucesso"fail_msg: "ERRO: Algumas altera√ß√µes ao ficheiro php.ini n√£o tiveram sucesso"</span><br>
<span id="line-40"><span style="color: #00aaaa">  # O site deve existir na pasta /var/www/leantime. Este teste visa determinar se a pasta</span><br>
<span id="line-41">  # existe e se temas permiss√µes certasFonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/stat_module.html</span><br>: Obtem informa√ß√£o sobre a pastas /var/www/leantime"stat:path: "/var/www/leantime"pasta- name: "Teste: A pasta /var/www/leantime existe e tem as permiss√µes certas?"assert:that:- pasta.stat.exists- pasta.stat.isdir- pasta.stat.mode == "0755"- pasta.stat.pw_name == "www-data"- pasta.stat.gr_name == "www-data"success_msg: "SUCESSO: Permiss√µes correctas no site leantime"fail_msg: "ERRO: Permiss√µes incorrectas no site leantime ou site n√£o existente"</span><br>
<span id="line-42"><span style="color: #00aaaa">  # Outro dos requesitos √© a exist√™ncia de uma base de dados para o site.</span><br>
<span id="line-43">  # Esta base de dados deve ser criada, logo tem de ser testada para determinar se ela existe ou n√£o.</span><br>
<span id="line-44">  # Fonte de inspira√ß√£o: https://serverfault.com/questions/173978/from-a-shell-script-how-can-i-check-whether-a-mysql-database-exists</span><br>- name: "Simula√ß√£o: Verifica se √© necess√°rio criar a base de dados leantime_database"shell: "mysql -u root -e 'use leantime_database'"[?12l[?25h[?25lO servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"O servi√ßo apache2 n√£o se encontra correctamente instalado"<span style="color: #00aaaa">Fonte: https://www.mydailytutorials.com/using-ansible-find-module-search-filesfolder</span><br></span><br>
<span id="line-45">  - name: "Rotina Auxiliar&gt; Procura o caminho do ficheiro php.ini do servidor apache2"find:paths: /etcpatterns: "php.ini"recurse: true</span><br>
<span id="line-46">    register: caminho_php_ini</span><br>
<span id="line-47"><span style="color: #00aaaa">  # Fonte: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/lineinfile_module.html</span><br>- name: "Simula√ß√£o: Ativa a op√ß√£o file_uploads no ficheiro php.ini, utilizando o m√≥dulo lineinfile."ansible.builtin.lineinfile:path: "{{ caminho_php_ini.files[0].path }}"    regexp: "{{ item.regexp  }}"  line: "{{ item.line }}"with_items:- regexp: "^file_uploads"line: "file_uploads = 1"- regexp: "^upload_max_filesize"line: "upload_max_filesize = 1G"- regexp: "^max_file_uploads"  line: "max_file_uploads = 20"- regexp: "^post_max_size"line: "post_max_size = 2G" - regexp: "^memory_limit" line: "memory_limit = 2G" - regexp: "^max_input_time" line: "max_input_time = 3600"check_mode: true[?12l[?25h[?25l- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurlcheck_mode: trueregister: estadoas dependencias encontra-se instaladas?"As dependencias estavam instaladas"Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"<span style="color: #00aaaa"> de inspira√ß√£o: https://docs.ansible.com//latest/collections/ansible/builtin/service_module.html</span><br>Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabledcheck_mode: trueregister: estado</span><br>
<span id="line-48">Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"assert:[?12l[?25h[?25lnot estado.changedsuccess_msg: "SUCESSO: O sistema operativo est√° atualizado"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"</span><br>
<span id="line-49">  - name: "Teste: a cache encontra-se atualizada?"assert:that:not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem atualiza√ß√µes pendentes"</span><br>
<span id="line-50">  - name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"apt:pkg:  - mc  - screen- git    - apache2  - mysql-server- phpphp-mysql- php-ldap- php-cli- php-soap - php-json    - graphviz  - php-xml- php-gd- php-zip- libapache2-mod-php  - php-dev  - libmcrypt-dev- gcc    - make  - autoconf[?12l[?25h[?25l</span><br>
<span id="line-51">---</span><br>
<span id="line-52"><span style="color: #00aaaa"># Tutorial de inspira√ß√£o para a infraestrutura conduzida por teste no site</span><br>
<span id="line-53"># https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/</span><br>
<span id="line-54"></span><br>- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: true</span><br>
<span id="line-55">  tasks:- name: "Simula√ß√£o: Atualizar a cache do sistema"  apt:  update_cache: truecache_valid_time: 3600check_mode: trueregister: estado</span><br>
<span id="line-56">  - name: "teste: a cache encontra-se actualizada?"assert:that:not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"</span><br>
<span id="line-57">  - name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:upgrade: safecheck_mode: trueregister: estado</span><br>
<span id="line-58">  - name: "teste: o sistema operativo encontra-se atualizado?"assert:that:not estado.changedsuccess_msg: "SUCESSO: O sistema operativo est√° atualizado"[?12l[?25h[?25l</span><br>
<span id="line-59">[?12l[?25h[?25l-[?12l[?25h[?25l [?12l[?25h[?25ln[?12l[?25h[?25la[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lV[?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25li[?12l[?25h[?25l√°[?12l[?25h[?25lv[?12l[?25h[?25le[?12l[?25h[?25li[?12l[?25h[?25ls[?12l[?25h[?25l78</span><br>
<span id="line-60">M[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25lc[?12l[?25h[?25ll[?12l[?25h[?25lu[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25l_[?12l[?25h[?25lv[?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25ls[?12l[?25h[?25l:[?12l[?25h[?25l78</span><br>
<span id="line-61">M[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25li[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25l.[?12l[?25h[?25l.[?12l[?25h[?25l/[?12l[?25h[?25l.[?12l[?25h[?25l.[?12l[?25h[?25l/[?12l[?25h[?25lv[?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25ls[?12l[?25h[?25l/[?12l[?25h[?25lm[?12l[?25h[?25la[?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25l.[?12l[?25h[?25ly[?12l[?25h[?25lm[?12l[?25h[?25ll[?12l[?25h[?25l78</span><br>
<span id="line-62">M[?12l[?25h[?25l78M[?12l[?25h[?25l</span><br>
<span id="line-63">- name: "teste: o sistema operativo encontra-se atualizado?"</span><br>
<span id="line-64">[?12l[?25h[?25l - name: Vari√°veis</span><br>
<span id="line-65"> [?12l[?25h[?25l  - name: Vari√°veis</span><br>
<span id="line-66">  [?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-67">[?12l[?25h[?25l         <span style="background-color: #AAAAAA; color: #000000">M-D</span><br> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Anexar<span style="background-color: #AAAAAA; color: #000000">B</span><br> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span><br> Cancelar           <span style="background-color: #AAAAAA; color: #000000">M-M</span><br> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span><br> Prepor<span style="background-color: #AAAAAA; color: #000000">^T</span><br> P/ ficheiros</span><br>
<span id="line-68"><span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                               </span><br>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><br><span style="background-color: #AAAAAA; color: #000000">          </span><br><span style="background-color: #AAAAAA; color: #000000">[ 189 linhas escritas ]</span><br><span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor<span style="background-color: #AAAAAA; color: #000000">U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt<span style="background-color: #AAAAAA; color: #000000">X</span><br> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer      <span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-69">[?12l[?25h[?25l  - name: "teste: o sistema operativo encontra-se atualizado?"</span><br>
<span id="line-70">    assert:that: - not estado.changed    success_msg: "SUCESSO: O sistema operativo est√° atualizado"    fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"</span><br>
<span id="line-71">  - name: "Teste: a cache encontra-se atualizada?"  assert:    that:  - not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem atualiza√ß√µes pendentes"</span><br>
<span id="line-72">  - name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"apt:pkg:  - mc  - screen- git    - apache2  - mysql-server- phpphp-mysql- php-ldap- php-cli- php-soap    - php-json  - graphviz- php-xml  - php-gd  - php-zip- libapache2-mod-php    - php-dev[?12l[?25h[?25l- libapache2-mod-php    - php-dev  - libmcrypt-dev- gccmake- autoconf- libc-dev- pkg-config    - pwgen  - curl- unzipzip- php-mbstring- expect- net-tools    - python3-mysqldb  - python3-apt- python3-pycurlcheck_mode: trueregister: estado</span><br>
<span id="line-73">  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"</span><br>
<span id="line-74"><span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span><br>- name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: true[?12l[?25h[?25lenabled: trueO servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"O servi√ßo apache2 n√£o se encontra correcta<span style="color: #00aaaa">: https://www.mydailytutorials.com/using--find-module-search-filesfolder</span><br>Rotina Auxiliar&gt; Procura o caminho do ficheiro php.ini do servidor apache2"find:paths: /etcpatterns: "php.ini"recurseregister: caminho_php_ini</span><br>
<span id="line-75"><span style="color: #00aaaa">  # Fonte: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/lineinfile_module.html</span><br>- name: "Simula√ß√£o: Ativa a op√ß√£o file_uploads no ficheiro php.ini, utilizando o m√≥dulo lineinfile."ansible.builtin.lineinfile:path: "{{ caminho_php_ini.files[0].path }}"regexp: "{{ item.regexp  }}"line: "{{ item.line }}"with_items:- regexp: "^file_uploads"line: "file_uploads = 1"- regexp: "^upload_max_filesize"line: "upload_max_filesize = 1G"- regexp: "^max_file_uploads"line: "max_file_uploads = 20"- regexp: "^post_max_size"line: "post_max_size = 2G"- regexp: "^memory_limit"[?12l[?25h[?25lline: "post_max_size = 2G"- regexp: "^memory_limit"line: "memory_limit = 2G"- regexp: "^max_input_time"  line: "max_input_time = 3600"As linhas do php.ini encontram-se alteradas ?"ficheiro php.ini foi alterado com sucesso"Algumas altera√ß√µes ao ficheiro php.ini n√£o tiveram sucesso"<span style="color: #00aaaa">O site deve existir na pasta /var/www/leantime. Este teste visa determinar se a pasta</span><br>
<span id="line-76">  # existe e se temas permiss√µes certas</span><br>
<span id="line-77">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/stat_module.html</span><br>- name: "Simula√ß√£o: Obtem informa√ß√£o sobre a pastas /var/www/leantime"</span><br>
<span id="line-78">    stat:    path: "/var/www/leantime"register: pasta</span><br>
<span id="line-79">  - name: "Teste: A pasta /var/www/leantime existe e tem as permiss√µes certas?"assert:  that:  - pasta.stat.exists- pasta.stat.isdir  - pasta.stat.mode == "0755"- pasta.stat.pw_name == "www-data"  - pasta.stat.gr_name == "www-data"success_msg: "SUCESSO: Permiss√µes correctas no site leantime"fail_msg: "ERRO: Permiss√µes incorrectas no site leantime ou site n√£o existente"</span><br>
<span id="line-80"><span style="color: #00aaaa">  # Outro dos requesitos √© a exist√™ncia de uma base de dados para o site.</span><br>[?12l[?25h[?25l</span><br>
<span id="line-81"><span style="color: #00aaaa">  # Outro dos requesitos √© a exist√™ncia de uma base de dados para o site.</span><br>
<span id="line-82">  # Esta base de dados deve ser criada, logo tem de ser testada para determinar se ela existe ou n√£o.</span><br>
<span id="line-83">  # Fonte de inspira√ß√£o: https://serverfault.com/questions/173978/from-a-shell-script-how-can-i-check-whether-a-mysql-database-exists</span><br>- name: "Simula√ß√£o: Verifica se √© necess√°rio criar a base de dados leantime_database"shell: "mysql -u root -e 'use leantime_database'"resultfailed_when: false  changed_when: false</span><br>
<span id="line-84">  - name: "Teste: A base de dados leantime_database existe ?"assert:that:- result.rc == 0success_msg: "SUCESSO: A base de dados leantime_database j√° se encontra criada" fail_msg: "ERRO: N√£o existe a base de dados leantime_database"</span><br>
<span id="line-85"><span style="color: #00aaaa">Teste: O download do software leantime deve ser poss√≠vel, a partir do site do leantime</span><br> e Teste: Verifica se o endere√ßo git para a vers√£o de leantime existe"uri:url: https://github.com/Leantime/leantime/releases/download/{{ versao_leantime }}/Leantime-{{ versao_leantime }}.zipresultado</span><br>
<span id="line-86">  [?12l[?25h[?25l</span><br>
<span id="line-87">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-88">[?12l[?25h[?1049l</span><br>
<span id="line-89">[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano vasars/main.yml </span><br>
<span id="line-90">[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><br><span style="background-color: #AAAAAA; color: #000000">[ 4 linhas lidas ]</span><br><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                                 vars/main.yml                                                              </span><br></span><br>
<span id="line-91"><span style="background-color: #AAAAAA; color: #000000">^G</span><br> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt</span><br>
<span id="line-92"><span style="background-color: #AAAAAA; color: #000000">^X</span><br> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-93">--- login_leantime: leantimeDBadminpassword_leantime: "#S3gr3d0S3cr3t0#"</span><br>
<span id="line-94">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span><br></span><br>
<span id="line-95">[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25lv[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25ls[?12l[?25h[?25la[?12l[?25h[?25lo[?12l[?25h[?25l?[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-96">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l_leantime[?12l[?25h[?25l[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lv[?12l[?25h[?25l2[?12l[?25h[?25l.[?12l[?25h[?25l1[?12l[?25h[?25l.[?12l[?25h[?25l7[?12l[?25h[?25l</span><br>
<span id="line-97">[?12l[?25h[?25l[?12l[?25h[?25l         <span style="background-color: #AAAAAA; color: #000000">M-D</span><br> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Anexar<span style="background-color: #AAAAAA; color: #000000">B</span><br> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span><br> Cancelar           <span style="background-color: #AAAAAA; color: #000000">M-M</span><br> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span><br> Prepor<span style="background-color: #AAAAAA; color: #000000">^T</span><br> P/ ficheiros</span><br>
<span id="line-98"><span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: vars/main.yml                                                                                             </span><br>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><br><span style="background-color: #AAAAAA; color: #000000">          </span><br><span style="background-color: #AAAAAA; color: #000000">[ 5 linhas escritas ]</span><br><span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor<span style="background-color: #AAAAAA; color: #000000">U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt<span style="background-color: #AAAAAA; color: #000000">X</span><br> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer      <span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-99">[?12l[?25h[?25l[?12l[?25h[?1049l</span><br>
<span id="line-100">[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule lint</span><br>
<span id="line-101"><span style="color: #0000aa">INFO    </span><br> default scenario test matrix: dependency, lint</span><br>
<span id="line-102"><span style="color: #0000aa">INFO    </span><br> Performing prerun<span style="color: #aa5500">...</span><br></span><br>
<span id="line-103"><span style="color: #0000aa">INFO    </span><br> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.</span><br>
<span id="line-104"><span style="color: #0000aa">INFO    </span><br> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span><br>=~<span style="color: #E850A8">/.ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/usr/share/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/etc/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:.<span style="color: #E850A8">/.cache/</span><br><span style="color: #ff90e8">roles</span><br></span><br>
<span id="line-105"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">dependency</span><br></span><br>
<span id="line-106"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-107"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-108"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">lint</span><br></span><br>
<span id="line-109">COMMAND: set -e</span><br>
<span id="line-110">yamllint .</span><br>
<span id="line-111">ansible-lint</span><br>
<span id="line-112"></span><br>
<span id="line-113">./molecule/default/verify.yml</span><br>
<span id="line-114">  189:1     error    too many blank lines (2 &gt; 0)  (empty-lines)</span><br>
<span id="line-115"></span><br>
<span id="line-116"><span style="font-weight: bold; color: #aa0000">CRITICAL</span><br> Lint failed with error code <span style="font-weight: bold; color: #00aaaa">1</span><br></span><br>
<span id="line-117">]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule lintnano vars/main.yml [14@molecule/default/verifyexitnano molecule/default/verify.yml </span><br>
<span id="line-118">[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><br><span style="background-color: #AAAAAA; color: #000000">[ 189 linhas lidas ]</span><br><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                          molecule/default/verify.yml                                                       </span><br></span><br>
<span id="line-119"><span style="background-color: #AAAAAA; color: #000000">^G</span><br> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt</span><br>
<span id="line-120"><span style="background-color: #AAAAAA; color: #000000">^X</span><br> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-121">---</span><br>
<span id="line-122"><span style="color: #00aaaa"># Tutorial de inspira√ß√£o para a infraestrutura conduzida por teste no site</span><br>
<span id="line-123"># https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/</span><br>
<span id="line-124"></span><br>- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: Vari√°veisinclude_vars:file: ../../vars/main.yml- name: "Simula√ß√£o: Atualizar a cache do sistema"apt:update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"</span><br>
<span id="line-125">[?12l[?25h[?25l  - name: "teste: o sistema operativo encontra-se atualizado?"</span><br>
<span id="line-126">    assert:that: - not estado.changed    success_msg: "SUCESSO: O sistema operativo est√° atualizado"    fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"</span><br>
<span id="line-127">  - name: "Teste: a cache encontra-se atualizada?"  assert:    that:  - not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem atualiza√ß√µes pendentes"</span><br>
<span id="line-128">  - name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"apt:pkg:  - mc  - screen- git    - apache2  - mysql-server- phpphp-mysql- php-ldap- php-cli- php-soap    - php-json  - graphviz- php-xml  - php-gd  - php-zip- libapache2-mod-php    - php-dev</span><br>
<span id="line-129">[?12l[?25h[?25l- libapache2-mod-php    - php-dev  - libmcrypt-dev- gccmake- autoconf- libc-dev- pkg-config    - pwgen  - curl- unzipzip- php-mbstring- expect- net-tools    - python3-mysqldb  - python3-apt- python3-pycurlcheck_mode: trueregister: estado</span><br>
<span id="line-130">  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"</span><br>
<span id="line-131"><span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span><br>- name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: true</span><br>
<span id="line-132">[?12l[?25h[?25lenabled: trueO servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"O servi√ßo apache2 n√£o se encontra correcta<span style="color: #00aaaa">: https://www.mydailytutorials.com/using--find-module-search-filesfolder</span><br>Rotina Auxiliar&gt; Procura o caminho do ficheiro php.ini do servidor apache2"find:paths: /etcpatterns: "php.ini"recurseregister: caminho_php_ini</span><br>
<span id="line-133"><span style="color: #00aaaa">  # Fonte: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/lineinfile_module.html</span><br>- name: "Simula√ß√£o: Ativa a op√ß√£o file_uploads no ficheiro php.ini, utilizando o m√≥dulo lineinfile."ansible.builtin.lineinfile:path: "{{ caminho_php_ini.files[0].path }}"regexp: "{{ item.regexp  }}"line: "{{ item.line }}"with_items:- regexp: "^file_uploads"line: "file_uploads = 1"- regexp: "^upload_max_filesize"line: "upload_max_filesize = 1G"- regexp: "^max_file_uploads"line: "max_file_uploads = 20"- regexp: "^post_max_size"line: "post_max_size = 2G"- regexp: "^memory_limit"</span><br>
<span id="line-134">[?12l[?25h[?25l78line: "post_max_size = 2G"- regexp: "^memory_limit"line: "memory_limit = 2G"- regexp: "^max_input_time"  line: "max_input_time = 3600"As linhas do php.ini encontram-se alteradas ?"ficheiro php.ini foi alterado com sucesso"Algumas altera√ß√µes ao ficheiro php.ini n√£o tiveram sucesso"<span style="color: #00aaaa">O site deve existir na pasta /var/www/leantime. Este teste visa determinar se a pasta</span><br>
<span id="line-135">  # existe e se temas permiss√µes certas</span><br>
<span id="line-136">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/stat_module.html</span><br>- name: "Simula√ß√£o: Obtem informa√ß√£o sobre a pastas /var/www/leantime"</span><br>
<span id="line-137">    stat:    path: "/var/www/leantime"register: pasta</span><br>
<span id="line-138">  - name: "Teste: A pasta /var/www/leantime existe e tem as permiss√µes certas?"assert:  that:  - pasta.stat.exists- pasta.stat.isdir  - pasta.stat.mode == "0755"- pasta.stat.pw_name == "www-data"  - pasta.stat.gr_name == "www-data"success_msg: "SUCESSO: Permiss√µes correctas no site leantime"fail_msg: "ERRO: Permiss√µes incorrectas no site leantime ou site n√£o existente"</span><br>
<span id="line-139"><span style="color: #00aaaa">  # Outro dos requesitos √© a exist√™ncia de uma base de dados para o site.</span><br>
<span id="line-140"></span><br>[?12l[?25h[?25l<span style="color: #00aaaa">  # Outro dos requesitos √© a exist√™ncia de uma base de dados para o site.</span><br>
<span id="line-141">  # Esta base de dados deve ser criada, logo tem de ser testada para determinar se ela existe ou n√£o.</span><br>
<span id="line-142">  # Fonte de inspira√ß√£o: https://serverfault.com/questions/173978/from-a-shell-script-how-can-i-check-whether-a-mysql-database-exists</span><br>- name: "Simula√ß√£o: Verifica se √© necess√°rio criar a base de dados leantime_database"shell: "mysql -u root -e 'use leantime_database'"resultfailed_when: false  changed_when: false</span><br>
<span id="line-143">  - name: "Teste: A base de dados leantime_database existe ?"assert:that:- result.rc == 0success_msg: "SUCESSO: A base de dados leantime_database j√° se encontra criada" fail_msg: "ERRO: N√£o existe a base de dados leantime_database"</span><br>
<span id="line-144"><span style="color: #00aaaa">Teste: O download do software leantime deve ser poss√≠vel, a partir do site do leantime</span><br> e Teste: Verifica se o endere√ßo git para a vers√£o de leantime existe"uri:url: https://github.com/Leantime/leantime/releases/download/{{ versao_leantime }}/Leantime-{{ versao_leantime }}.zipresultado</span><br>
<span id="line-145">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span><br></span><br>
<span id="line-146">[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-147">[?12l[?25h[?25l         <span style="background-color: #AAAAAA; color: #000000">M-D</span><br> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Anexar<span style="background-color: #AAAAAA; color: #000000">B</span><br> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span><br> Cancelar           <span style="background-color: #AAAAAA; color: #000000">M-M</span><br> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span><br> Prepor<span style="background-color: #AAAAAA; color: #000000">^T</span><br> P/ ficheiros</span><br>
<span id="line-148"><span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                               </span><br>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><br><span style="background-color: #AAAAAA; color: #000000">          </span><br><span style="background-color: #AAAAAA; color: #000000">[ 187 linhas escritas ]</span><br><span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor<span style="background-color: #AAAAAA; color: #000000">U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt<span style="background-color: #AAAAAA; color: #000000">X</span><br> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer      <span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-149">[?12l[?25h[?25l[?12l[?25h[?1049l</span><br>
<span id="line-150">[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano molecule/default/verify.yml molecule lint</span><br>
<span id="line-151"><span style="color: #0000aa">INFO    </span><br> default scenario test matrix: dependency, lint</span><br>
<span id="line-152"><span style="color: #0000aa">INFO    </span><br> Performing prerun<span style="color: #aa5500">...</span><br></span><br>
<span id="line-153"><span style="color: #0000aa">INFO    </span><br> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.</span><br>
<span id="line-154"><span style="color: #0000aa">INFO    </span><br> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span><br>=~<span style="color: #E850A8">/.ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/usr/share/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/etc/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:.<span style="color: #E850A8">/.cache/</span><br><span style="color: #ff90e8">roles</span><br></span><br>
<span id="line-155"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">dependency</span><br></span><br>
<span id="line-156"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-157"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-158"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">lint</span><br></span><br>
<span id="line-159">COMMAND: set -e</span><br>
<span id="line-160">yamllint .</span><br>
<span id="line-161">ansible-lint</span><br>
<span id="line-162"></span><br>
<span id="line-163">Loading custom .yamllint config file, this extends our internal yamllint config.</span><br>
<span id="line-164">WARNING  Listing 1 violation(s) that are fatal</span><br>
<span id="line-165"><span style="color: #ea4040">yaml</span><br><span style="font-weight: lighter">:</span><br> <span style="color: #aa0000">too many blank lines (1 &gt; 0)</span><br> <span style="font-weight: lighter; color: #ea4040">(empty-lines)</span><br></span><br>
<span id="line-166"><span style="color: #0000aa">.ansible-lint</span><br>:3</span><br>
<span id="line-167"></span><br>
<span id="line-168">You can skip specific rules or tags by adding them to your configuration file:</span><br>
<span id="line-169"><span style="font-weight: lighter"># .ansible-lint</span><br></span><br>
<span id="line-170"><span style="color: #4040ea">warn_list</span><br>:  <span style="font-weight: lighter"># or 'skip_list' to silence them completely</span><br></span><br>
<span id="line-171">  - yaml  <span style="font-weight: lighter"># Violations reported by yamllint</span><br></span><br>
<span id="line-172">Finished with <span style="font-weight: bold; color: #00aaaa">1</span><br> failure<span style="font-weight: bold">(</span><br>s<span style="font-weight: bold">)</span><br>, <span style="font-weight: bold; color: #00aaaa">0</span><br> warning<span style="font-weight: bold">(</span><br>s<span style="font-weight: bold">)</span><br> on <span style="font-weight: bold; color: #00aaaa">40</span><br> files.</span><br>
<span id="line-173"><span style="font-weight: bold; color: #aa0000">CRITICAL</span><br> Lint failed with error code <span style="font-weight: bold; color: #00aaaa">2</span><br></span><br>
<span id="line-174">]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule lintnano molecule/default/verify.yml </span><br>
<span id="line-175">[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><br><span style="background-color: #AAAAAA; color: #000000">[ 187 linhas lidas ]</span><br><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                          molecule/default/verify.yml                                                       </span><br></span><br>
<span id="line-176"><span style="background-color: #AAAAAA; color: #000000">^G</span><br> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt</span><br>
<span id="line-177"><span style="background-color: #AAAAAA; color: #000000">^X</span><br> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-178">---</span><br>
<span id="line-179"><span style="color: #00aaaa"># Tutorial de inspira√ß√£o para a infraestrutura conduzida por teste no site</span><br>
<span id="line-180"># https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/</span><br>
<span id="line-181"></span><br>- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: Vari√°veisinclude_vars:file: ../../vars/main.yml- name: "Simula√ß√£o: Atualizar a cache do sistema"apt:update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"</span><br>
<span id="line-182">[?12l[?25h[?25l         In. par√°g<span style="background-color: #AAAAAA; color: #000000">^Y</span><br> Prim.linha<span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ir para txt<span style="background-color: #AAAAAA; color: #000000">C</span><br> Cancelar           <span style="background-color: #AAAAAA; color: #000000">O</span><br> Fim par√°g<span style="background-color: #AAAAAA; color: #000000">V</span><br> √ölt. linha</span><br>
<span id="line-183"><span style="background-color: #AAAAAA; color: #000000">Insira n¬∫ da linha, n¬∫ da coluna:                                                                                                         </span><br>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">1</span><br>
<span id="line-184"></span><br>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">8</span><br>
<span id="line-185"></span><br>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">9</span><br>
<span id="line-186"></span><br>[?12l[?25h[?25l</span><br>
<span id="line-187"><span style="background-color: #AAAAAA; color: #000000">^O</span><br> GravarProcurar      <span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt<span style="background-color: #AAAAAA; color: #000000">X</span><br> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt<span style="background-color: #AAAAAA; color: #000000">T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-188">78shell: "mysql -u root -e 'use leantime_database'"register: resultfailed_when: falsechanged_when: falseTA base de dados leantime_database existe ?"result.rc == 0base de dados leantime_database j√° se encontra criada"N√£o existe a base de dados leantime_database"</span><br>
<span id="line-189">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-190">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-191">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-192">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l         <span style="background-color: #AAAAAA; color: #000000">M-D</span><br> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Anexar<span style="background-color: #AAAAAA; color: #000000">B</span><br> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span><br> Cancelar           <span style="background-color: #AAAAAA; color: #000000">M-M</span><br> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span><br> Prepor<span style="background-color: #AAAAAA; color: #000000">^T</span><br> P/ ficheiros</span><br>
<span id="line-193"><span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                               </span><br>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><br><span style="background-color: #AAAAAA; color: #000000">[ 187 linhas escritas ]</span><br><span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor<span style="background-color: #AAAAAA; color: #000000">U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt<span style="background-color: #AAAAAA; color: #000000">X</span><br> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer      <span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-194">[?12l[?25h[?25l</span><br>
<span id="line-195">[?12l[?25h[?1049l</span><br>
<span id="line-196">[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano molecule/default/verify.yml molecule lint</span><br>
<span id="line-197"><span style="color: #0000aa">INFO    </span><br> default scenario test matrix: dependency, lint</span><br>
<span id="line-198"><span style="color: #0000aa">INFO    </span><br> Performing prerun<span style="color: #aa5500">...</span><br></span><br>
<span id="line-199"><span style="color: #0000aa">INFO    </span><br> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.</span><br>
<span id="line-200"><span style="color: #0000aa">INFO    </span><br> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span><br>=~<span style="color: #E850A8">/.ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/usr/share/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/etc/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:.<span style="color: #E850A8">/.cache/</span><br><span style="color: #ff90e8">roles</span><br></span><br>
<span id="line-201"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">dependency</span><br></span><br>
<span id="line-202"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-203"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-204"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">lint</span><br></span><br>
<span id="line-205">COMMAND: set -e</span><br>
<span id="line-206">yamllint .</span><br>
<span id="line-207">ansible-lint</span><br>
<span id="line-208"></span><br>
<span id="line-209">Loading custom .yamllint config file, this extends our internal yamllint config.</span><br>
<span id="line-210">WARNING  Listing 1 violation(s) that are fatal</span><br>
<span id="line-211"><span style="color: #ea4040">yaml</span><br><span style="font-weight: lighter">:</span><br> <span style="color: #aa0000">too many blank lines (1 &gt; 0)</span><br> <span style="font-weight: lighter; color: #ea4040">(empty-lines)</span><br></span><br>
<span id="line-212"><span style="color: #0000aa">.ansible-lint</span><br>:3</span><br>
<span id="line-213"></span><br>
<span id="line-214">You can skip specific rules or tags by adding them to your configuration file:</span><br>
<span id="line-215"><span style="font-weight: lighter"># .ansible-lint</span><br></span><br>
<span id="line-216"><span style="color: #4040ea">warn_list</span><br>:  <span style="font-weight: lighter"># or 'skip_list' to silence them completely</span><br></span><br>
<span id="line-217">  - yaml  <span style="font-weight: lighter"># Violations reported by yamllint</span><br></span><br>
<span id="line-218">Finished with <span style="font-weight: bold; color: #00aaaa">1</span><br> failure<span style="font-weight: bold">(</span><br>s<span style="font-weight: bold">)</span><br>, <span style="font-weight: bold; color: #00aaaa">0</span><br> warning<span style="font-weight: bold">(</span><br>s<span style="font-weight: bold">)</span><br> on <span style="font-weight: bold; color: #00aaaa">40</span><br> files.</span><br>
<span id="line-219"><span style="font-weight: bold; color: #aa0000">CRITICAL</span><br> Lint failed with error code <span style="font-weight: bold; color: #00aaaa">2</span><br></span><br>
<span id="line-220">]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano .ansible-lint </span><br>
<span id="line-221">[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><br><span style="background-color: #AAAAAA; color: #000000">[ 3 linhas lidas ]</span><br><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                                 .ansible-lint                                                              </span><br></span><br>
<span id="line-222"><span style="background-color: #AAAAAA; color: #000000">^G</span><br> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt</span><br>
<span id="line-223"><span style="background-color: #AAAAAA; color: #000000">^X</span><br> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-224">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span><br></span><br>
<span id="line-225">[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-226">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-227">[?12l[?25h[?25l</span><br>
<span id="line-228">[?12l[?25h[?25l[?12l[?25h[?25l</span><br>
<span id="line-229">[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l         <span style="background-color: #AAAAAA; color: #000000">M-D</span><br> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Anexar<span style="background-color: #AAAAAA; color: #000000">B</span><br> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span><br> Cancelar           <span style="background-color: #AAAAAA; color: #000000">M-M</span><br> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span><br> Prepor<span style="background-color: #AAAAAA; color: #000000">^T</span><br> P/ ficheiros</span><br>
<span id="line-230"><span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: .ansible-lint                                                                                             </span><br>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><br><span style="background-color: #AAAAAA; color: #000000">          </span><br><span style="background-color: #AAAAAA; color: #000000">[ 2 linhas escritas ]</span><br><span style="background-color: #AAAAAA; color: #000000">^O</span><br> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span><br> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span><br> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span><br> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span><br> Pos cursor<span style="background-color: #AAAAAA; color: #000000">U</span><br> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span><br> Marcar txt<span style="background-color: #AAAAAA; color: #000000">X</span><br> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span><br> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span><br> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span><br> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span><br> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span><br> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span><br> Refazer      <span style="background-color: #AAAAAA; color: #000000">M-6</span><br> Copiar txt</span><br>
<span id="line-231">[?12l[?25h[?25l[?12l[?25h[?1049l</span><br>
<span id="line-232">[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano .ansible-lint molecule lint</span><br>
<span id="line-233"><span style="color: #0000aa">INFO    </span><br> default scenario test matrix: dependency, lint</span><br>
<span id="line-234"><span style="color: #0000aa">INFO    </span><br> Performing prerun<span style="color: #aa5500">...</span><br></span><br>
<span id="line-235"><span style="color: #0000aa">INFO    </span><br> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.</span><br>
<span id="line-236"><span style="color: #0000aa">INFO    </span><br> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span><br>=~<span style="color: #E850A8">/.ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/usr/share/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/etc/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:.<span style="color: #E850A8">/.cache/</span><br><span style="color: #ff90e8">roles</span><br></span><br>
<span id="line-237"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">dependency</span><br></span><br>
<span id="line-238"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-239"><span style="color: #aa0000">WARNING </span><br> Skipping, missing the requirements file.</span><br>
<span id="line-240"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">lint</span><br></span><br>
<span id="line-241">COMMAND: set -e</span><br>
<span id="line-242">yamllint .</span><br>
<span id="line-243">ansible-lint</span><br>
<span id="line-244"></span><br>
<span id="line-245">Loading custom .yamllint config file, this extends our internal yamllint config.</span><br>
<span id="line-246">]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule verify</span><br>
<span id="line-247"><span style="color: #0000aa">INFO    </span><br> default scenario test matrix: verify</span><br>
<span id="line-248"><span style="color: #0000aa">INFO    </span><br> Performing prerun<span style="color: #aa5500">...</span><br></span><br>
<span id="line-249"><span style="color: #0000aa">INFO    </span><br> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.</span><br>
<span id="line-250"><span style="color: #0000aa">INFO    </span><br> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span><br>=~<span style="color: #E850A8">/.ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/usr/share/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:<span style="color: #E850A8">/etc/ansible/</span><br><span style="color: #ff90e8">roles</span><br>:.<span style="color: #E850A8">/.cache/</span><br><span style="color: #ff90e8">roles</span><br></span><br>
<span id="line-251"><span style="color: #0000aa">INFO    </span><br> <span style="font-weight: lighter; color: #00aaaa">Running </span><br><span style="font-weight: lighter; color: #00aa00">default</span><br><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><br><span style="font-weight: lighter; color: #00aa00">verify</span><br></span><br>
<span id="line-252"><span style="color: #0000aa">INFO    </span><br> Running Ansible Verifier</span><br>
<span id="line-253"></span><br>
<span id="line-254">PLAY [Infraestrutura conduzida por testes] ***********************************************************************************************</span><br>
<span id="line-255"></span><br>
<span id="line-256">TASK [Vari√°veis] *************************************************************************************************************************</span><br>
<span id="line-257"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-258"></span><br>
<span id="line-259">TASK [Simula√ß√£o: Atualizar a cache do sistema] *******************************************************************************************</span><br>
<span id="line-260"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-261"></span><br>
<span id="line-262">TASK [teste: a cache encontra-se actualizada?] *******************************************************************************************</span><br>
<span id="line-263"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-264"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-265"><span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span><br></span><br>
<span id="line-266"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-267"></span><br>
<span id="line-268">TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] *************************************************************************</span><br>
<span id="line-269"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-270"></span><br>
<span id="line-271">TASK [teste: o sistema operativo encontra-se atualizado?] ********************************************************************************</span><br>
<span id="line-272"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-273"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-274"><span style="color: #00aa00">    "msg": "SUCESSO: O sistema operativo est√° atualizado"</span><br></span><br>
<span id="line-275"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-276"></span><br>
<span id="line-277">TASK [Teste: a cache encontra-se atualizada?] ********************************************************************************************</span><br>
<span id="line-278"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-279"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-280"><span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span><br></span><br>
<span id="line-281"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-282"></span><br>
<span id="line-283">TASK [Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas] ****************************************</span><br>
<span id="line-284"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-285"></span><br>
<span id="line-286">TASK [Teste: as dependencias encontra-se instaladas?] ************************************************************************************</span><br>
<span id="line-287"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-288"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-289"><span style="color: #00aa00">    "msg": "SUCESSO: As dependencias estavam instaladas"</span><br></span><br>
<span id="line-290"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-291"></span><br>
<span id="line-292">TASK [Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque] ****************************************</span><br>
<span id="line-293"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-294"></span><br>
<span id="line-295">TASK [Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?] ***********************************************</span><br>
<span id="line-296"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-297"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-298"><span style="color: #00aa00">    "msg": "SUCESSO: O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"</span><br></span><br>
<span id="line-299"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-300"></span><br>
<span id="line-301">TASK [Rotina Auxiliar&gt; Procura o caminho do ficheiro php.ini do servidor apache2] ********************************************************</span><br>
<span id="line-302"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-303"></span><br>
<span id="line-304">TASK [Simula√ß√£o: Ativa a op√ß√£o file_uploads no ficheiro php.ini, utilizando o m√≥dulo lineinfile.] ****************************************</span><br>
<span id="line-305"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; (item={'regexp': '^file_uploads', 'line': 'file_uploads = 1'})</span><br></span><br>
<span id="line-306"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; (item={'regexp': '^upload_max_filesize', 'line': 'upload_max_filesize = 1G'})</span><br></span><br>
<span id="line-307"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; (item={'regexp': '^max_file_uploads', 'line': 'max_file_uploads = 20'})</span><br></span><br>
<span id="line-308"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; (item={'regexp': '^post_max_size', 'line': 'post_max_size = 2G'})</span><br></span><br>
<span id="line-309"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; (item={'regexp': '^memory_limit', 'line': 'memory_limit = 2G'})</span><br></span><br>
<span id="line-310"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; (item={'regexp': '^max_input_time', 'line': 'max_input_time = 3600'})</span><br></span><br>
<span id="line-311"></span><br>
<span id="line-312">TASK [Teste: As linhas do php.ini encontram-se alteradas ?] ******************************************************************************</span><br>
<span id="line-313"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-314"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-315"><span style="color: #00aa00">    "msg": "SUCESSO: O ficheiro php.ini foi alterado com sucesso"</span><br></span><br>
<span id="line-316"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-317"></span><br>
<span id="line-318">TASK [Simula√ß√£o: Obtem informa√ß√£o sobre a pastas /var/www/leantime] **********************************************************************</span><br>
<span id="line-319"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-320"></span><br>
<span id="line-321">TASK [Teste: A pasta /var/www/leantime existe e tem as permiss√µes certas?] ***************************************************************</span><br>
<span id="line-322"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-323"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-324"><span style="color: #00aa00">    "msg": "SUCESSO: Permiss√µes correctas no site leantime"</span><br></span><br>
<span id="line-325"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-326"></span><br>
<span id="line-327">TASK [Simula√ß√£o: Verifica se √© necess√°rio criar a base de dados leantime_database] *******************************************************</span><br>
<span id="line-328"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-329"></span><br>
<span id="line-330">TASK [Teste: A base de dados leantime_database existe ?] *********************************************************************************</span><br>
<span id="line-331"><span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span><br></span><br>
<span id="line-332"><span style="color: #00aa00">    "changed": false,</span><br></span><br>
<span id="line-333"><span style="color: #00aa00">    "msg": "SUCESSO: A base de dados leantime_database j√° se encontra criada"</span><br></span><br>
<span id="line-334"><span style="color: #00aa00">}</span><br></span><br>
<span id="line-335"></span><br>
<span id="line-336">TASK [Simula√ß√£o e Teste: Verifica se o endere√ßo git para a vers√£o de leantime existe] ****************************************************</span><br>
<span id="line-337"><span style="color: #00aa00">ok: [ubuntu-20.04]</span><br></span><br>
<span id="line-338"></span><br>
<span id="line-339">PLAY RECAP *******************************************************************************************************************************</span><br>
<span id="line-340"><span style="color: #00aa00">ubuntu-20.04</span><br>               : <span style="color: #00aa00">ok=18  </span><br> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0</span><br>
<span id="line-341"></span><br>
<span id="line-342"><span style="color: #0000aa">INFO    </span><br> Verifier completed successfully.</span><br>
<span id="line-343">]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ exit</span><br>
<span id="line-344">exit</span><br>
<span id="line-345"></span><br>
