]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano molecule/qdefault/verify.yml 
[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><span style="background-color: #AAAAAA; color: #000000">[ 89 linhas lidas ]</span><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                                                    molecule/default/verify.yml                                                                                </span>
<span style="background-color: #AAAAAA; color: #000000">^G</span> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar
<span style="background-color: #AAAAAA; color: #000000">^X</span> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
---
<span style="color: #00aaaa"># Tutorial de inspira√ß√£o para a infraestrutura conduzida por teste no site
# https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/
</span>- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: "Simula√ß√£o: Atualizar a cache do sistema"apt:update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: O sistema operativo est√° atualizado"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Teste: a cache encontra-se atualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem atualiza√ß√µes pendentes"- name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"apt:
[?12l[?25h[?25l  - name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"
    apt: pkg:- mc - screen    - git    - apache2    - mysql-server- php    - php-mysql    - php-ldap  - php-cli- php-soap- php-json  - graphviz  - php-xml- php-gd    - php-zip  - libapache2-mod-php- php-devlibmcrypt-dev- gcc- make- autoconf    - libc-dev  - pkg-config- pwgen  - curl  - unzip- zip    - php-mbstring  - expect- net-toolspython3-mysqldb- python3-apt- python3-pycurlcheck_mode: true  register: estado
  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"
[?12l[?25h[?25l      fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"
[?12l[?25h[?25l78Msuccess_msg: "SUCESSO: As dependencias estavam instaladas"
[?12l[?25h[?25l78M- not estado.changed
[?12l[?25h[?25l78Mthat:
[?12l[?25h[?25l78Massert:
[?12l[?25h[?25l78M- name: "Teste: as dependencias encontra-se instaladas?"
[?12l[?25h[?25l78M[?12l[?25h[?25l78Mregister: estado
[?12l[?25h[?25l78Mcheck_mode: true
[?12l[?25h[?25l78M- python3-pycurl
[?12l[?25h[?25l78M- python3-apt
[?12l[?25h[?25l78M- python3-mysqldb
[?12l[?25h[?25l78M- net-tools
[?12l[?25h[?25l78M- expect
[?12l[?25h[?25l78M- php-mbstring
[?12l[?25h[?25l78M- zip
[?12l[?25h[?25l78M- unzip
[?12l[?25h[?25l78M- curl
[?12l[?25h[?25l[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l-[?12l[?25h[?25l [?12l[?25h[?25ln[?12l[?25h[?25la[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25l
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l
[?12l[?25h[?25l[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l
<span style="color: #00aaaa">  #</span>[?12l[?25h[?25l<span style="color: #00aaaa"> </span>[?12l[?25h[?25l<span style="color: #00aaaa">F</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">n</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">:</span>[?12l[?25h[?25l [?12l[?25h[?25l<span style="color: #00aaaa"> </span>[?12l[?25h[?25l<span style="color: #00aaaa">d</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa"> </span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">n</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">p</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">r</span>[?12l[?25h[?25l<span style="color: #00aaaa">a</span>[?12l[?25h[?25l<span style="color: #00aaaa">√ß</span>[?12l[?25h[?25l<span style="color: #00aaaa">√£</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">:</span>[?12l[?25h[?25l<span style="color: #00aaaa"> </span>[?12l[?25h[?25l<span style="color: #00aaaa">h</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">p</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">:</span>[?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">d</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">c</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">.</span>[?12l[?25h[?25l<span style="color: #00aaaa">a</span>[?12l[?25h[?25l<span style="color: #00aaaa">n</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">b</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">.</span>[?12l[?25h[?25l<span style="color: #00aaaa">c</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">m</span>[?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">a</span>[?12l[?25h[?25l<span style="color: #00aaaa">n</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">b</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">c</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">a</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">c</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">c</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">n</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">(</span>[?12l[?25h[?25l [?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">a</span>[?12l[?25h[?25l<span style="color: #00aaaa">n</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">b</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">b</span>[?12l[?25h[?25l<span style="color: #00aaaa">u</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">n</span>[?12l[?25h[?25l<span style="color: #00aaaa">/</span>[?12l[?25h[?25l<span style="color: #00aaaa">s</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">r</span>[?12l[?25h[?25l<span style="color: #00aaaa">v</span>[?12l[?25h[?25l<span style="color: #00aaaa">i</span>[?12l[?25h[?25l<span style="color: #00aaaa">c</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">_</span>[?12l[?25h[?25l<span style="color: #00aaaa">m</span>[?12l[?25h[?25l<span style="color: #00aaaa">o</span>[?12l[?25h[?25l<span style="color: #00aaaa">d</span>[?12l[?25h[?25l<span style="color: #00aaaa">u</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l<span style="color: #00aaaa">e</span>[?12l[?25h[?25l<span style="color: #00aaaa">.</span>[?12l[?25h[?25l<span style="color: #00aaaa">h</span>[?12l[?25h[?25l<span style="color: #00aaaa">t</span>[?12l[?25h[?25l<span style="color: #00aaaa">m</span>[?12l[?25h[?25l<span style="color: #00aaaa">l</span>[?12l[?25h[?25l[?12l[?25h[?25lS[?12l[?25h[?25li[?12l[?25h[?25lm[?12l[?25h[?25lu[?12l[?25h[?25ll[?12l[?25h[?25la[?12l[?25h[?25l√ß[?12l[?25h[?25l√£[?12l[?25h[?25lo[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lT[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25l√ß[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25la[?12l[?25h[?25lc[?12l[?25h[?25lh[?12l[?25h[?25le[?12l[?25h[?25l2[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25le[?12l[?25h[?25ln[?12l[?25h[?25lc[?12l[?25h[?25lo[?12l[?25h[?25ln[?12l[?25h[?25lt[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25l [?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25la[?12l[?25h[?25ld[?12l[?25h[?25lo[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25li[?12l[?25h[?25lc[?12l[?25h[?25li[?12l[?25h[?25la[?12l[?25h[?25ld[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25la[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25lv[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25ln[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lq[?12l[?25h[?25lu[?12l[?25h[?25le[?12l[?25h[?25l"[?12l[?25h[?25l
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25lc[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25ln[?12l[?25h[?25la[?12l[?25h[?25lm[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25la[?12l[?25h[?25lc[?12l[?25h[?25lh[?12l[?25h[?25l2[?12l[?25h[?25l
[?12l[?25h[?25l [?12l[?25h[?25l   [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25la[?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ld[?12l[?25h[?25l
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25le[?12l[?25h[?25ln[?12l[?25h[?25la[?12l[?25h[?25lb[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25ld[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25lr[?12l[?25h[?25lu[?12l[?25h[?25le[?12l[?25h[?25l
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25lc[?12l[?25h[?25lh[?12l[?25h[?25le[?12l[?25h[?25lc[?12l[?25h[?25lk[?12l[?25h[?25l_[?12l[?25h[?25lm[?12l[?25h[?25lo[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25lr[?12l[?25h[?25lu[?12l[?25h[?25le[?12l[?25h[?25l
[?12l[?25h[?25l[?12l[?25h[?25l
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">[ Marca√ß√£o feita ]</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">- name: "Teste: as dependencias encontra-se instaladas?"
  </span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">  assert:
  </span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    that:
  </span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    - not estado.changed
  </span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    success_msg: "SUCESSO: As dependencias estavam instaladas"
  </span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"
</span>[?12l[?25h[?25l    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"</span>[?12l[?25h[?25l  [?12l[?25h[?25l- name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"[?12l[?25h[?25l
[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25led[?12l[?25h[?25l[?12l[?25h[?25le[?12l[?25h[?25l[?12l[?25h[?25l
[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25lO?"[?12l[?25h[?25l ?"[?12l[?25h[?25ls?"[?12l[?25h[?25le?"[?12l[?25h[?25lr?"[?12l[?25h[?25lv?"[?12l[?25h[?25li?"[?12l[?25h[?25l√ß?"[?12l[?25h[?25lo?"[?12l[?25h[?25l ?"[?12l[?25h[?25la?"[?12l[?25h[?25lp?"[?12l[?25h[?25la?"[?12l[?25h[?25lc?"[?12l[?25h[?25lh?"[?12l[?25h[?25le?"[?12l[?25h[?25l2?"[?12l[?25h[?25l ?"[?12l[?25h[?25le?"[?12l[?25h[?25ln?"[?12l[?25h[?25lc?"[?12l[?25h[?25lo?"[?12l[?25h[?25ln?"[?12l[?25h[?25lt?"[?12l[?25h[?25lr?"[?12l[?25h[?25la?"[?12l[?25h[?25l-?"[?12l[?25h[?25ls?"[?12l[?25h[?25le?"[?12l[?25h[?25l ?"[?12l[?25h[?25li?"[?12l[?25h[?25ln?"[?12l[?25h[?25l?"[?12l[?25h[?25l?"[?12l[?25h[?25la?"[?12l[?25h[?25lt?"[?12l[?25h[?25li?"[?12l[?25h[?25lv?"[?12l[?25h[?25lo?"[?12l[?25h[?25l ?"[?12l[?25h[?25ln?"[?12l[?25h[?25lo?"[?12l[?25h[?25l ?"[?12l[?25h[?25la?"[?12l[?25h[?25lr?"[?12l[?25h[?25lrr?"[?12l[?25h[?25la?"[?12l[?25h[?25ln?"[?12l[?25h[?25lq?"[?12l[?25h[?25lu?"[?12l[?25h[?25le?"[?12l[?25h[?25l ?"[?12l[?25h[?25ln?"[?12l[?25h[?25lo?"[?12l[?25h[?25l ?"[?12l[?25h[?25ls?"[?12l[?25h[?25li?"[?12l[?25h[?25ls?"[?12l[?25h[?25lt?"[?12l[?25h[?25le?"[?12l[?25h[?25lm?"[?12l[?25h[?25la?"[?12l[?25h[?25l,?"[?12l[?25h[?25l ?"[?12l[?25h[?25le?"[?12l[?25h[?25l ?"[?12l[?25h[?25le?"[?12l[?25h[?25ls?"[?12l[?25h[?25lt?"[?12l[?25h[?25l√°?"[?12l[?25h[?25l ?"[?12l[?25h[?25li?"[?12l[?25h[?25ln?"[?12l[?25h[?25li?"[?12l[?25h[?25lc?"[?12l[?25h[?25li?"[?12l[?25h[?25la?"[?12l[?25h[?25ld?"[?12l[?25h[?25lo?"[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25lO"[?12l[?25h[?25l "[?12l[?25h[?25ls"[?12l[?25h[?25le"[?12l[?25h[?25lr"[?12l[?25h[?25lv"[?12l[?25h[?25li"[?12l[?25h[?25l√ß"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25la"[?12l[?25h[?25lp"[?12l[?25h[?25la"[?12l[?25h[?25lc"[?12l[?25h[?25lh"[?12l[?25h[?25le"[?12l[?25h[?25l2"[?12l[?25h[?25l "[?12l[?25h[?25le"[?12l[?25h[?25ls"[?12l[?25h[?25lt"[?12l[?25h[?25l√°"[?12l[?25h[?25l "[?12l[?25h[?25lc"[?12l[?25h[?25lo"[?12l[?25h[?25lr"[?12l[?25h[?25lrr"[?12l[?25h[?25le"[?12l[?25h[?25lc"[?12l[?25h[?25lt"[?12l[?25h[?25la"[?12l[?25h[?25lm"[?12l[?25h[?25le"[?12l[?25h[?25ln"[?12l[?25h[?25lt"[?12l[?25h[?25le"[?12l[?25h[?25l "[?12l[?25h[?25li"[?12l[?25h[?25ln"[?12l[?25h[?25ls"[?12l[?25h[?25lt"[?12l[?25h[?25la"[?12l[?25h[?25ll"[?12l[?25h[?25la"[?12l[?25h[?25ld"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25le"[?12l[?25h[?25l "[?12l[?25h[?25li"[?12l[?25h[?25ln"[?12l[?25h[?25li"[?12l[?25h[?25lc"[?12l[?25h[?25li"[?12l[?25h[?25la"[?12l[?25h[?25l "[?12l[?25h[?25lc"[?12l[?25h[?25lo"[?12l[?25h[?25lm"[?12l[?25h[?25l "[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25la"[?12l[?25h[?25lr"[?12l[?25h[?25lrr"[?12l[?25h[?25la"[?12l[?25h[?25ln"[?12l[?25h[?25lq"[?12l[?25h[?25lu"[?12l[?25h[?25le"[?12l[?25h[?25l "[?12l[?25h[?25ld"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25ls"[?12l[?25h[?25li"[?12l[?25h[?25ls"[?12l[?25h[?25lr"[?12l[?25h[?25l"[?12l[?25h[?25lt"[?12l[?25h[?25le"[?12l[?25h[?25lm"[?12l[?25h[?25la"[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25lO"[?12l[?25h[?25l "[?12l[?25h[?25ls"[?12l[?25h[?25le"[?12l[?25h[?25lr"[?12l[?25h[?25lv"[?12l[?25h[?25li"[?12l[?25h[?25l√ß"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25la"[?12l[?25h[?25lp"[?12l[?25h[?25la"[?12l[?25h[?25lc"[?12l[?25h[?25lh"[?12l[?25h[?25le"[?12l[?25h[?25l2"[?12l[?25h[?25l "[?12l[?25h[?25ln"[?12l[?25h[?25l√£"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25ls"[?12l[?25h[?25le"[?12l[?25h[?25l "[?12l[?25h[?25le"[?12l[?25h[?25ln"[?12l[?25h[?25lc"[?12l[?25h[?25lo"[?12l[?25h[?25ln"[?12l[?25h[?25lt"[?12l[?25h[?25lr"[?12l[?25h[?25la"[?12l[?25h[?25l "[?12l[?25h[?25lc"[?12l[?25h[?25lo"[?12l[?25h[?25lr"[?12l[?25h[?25lrr"[?12l[?25h[?25le"[?12l[?25h[?25lc"[?12l[?25h[?25la"[?12l[?25h[?25lt"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25lt"[?12l[?25h[?25la"[?12l[?25h[?25lm"[?12l[?25h[?25le"[?12l[?25h[?25ln"[?12l[?25h[?25lt"[?12l[?25h[?25le"[?12l[?25h[?25l "[?12l[?25h[?25li"[?12l[?25h[?25ln"[?12l[?25h[?25ls"[?12l[?25h[?25lt"[?12l[?25h[?25la"[?12l[?25h[?25ll"[?12l[?25h[?25ld"[?12l[?25h[?25lo"[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25ll[?12l[?25h[?25lado"[?12l[?25h[?25l
[?12l[?25h[?25l                      <span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar                        <span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor         <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  </span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 105 linhas escritas ]</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
[?12l[?25h[?25l[?12l[?25h[?25l
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>
[?12l[?25h[?25l  - name: "Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"
  [?12l[?25h[?25l[?12l[?25h[?25l [?12l[?25h[?25l
[?12l[?25h[?25l[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l
[?12l[?25h[?25l                      <span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar                        <span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor         <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  </span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 105 linhas escritas ]</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
[?12l[?25h[?25l[?12l[?25h[?1049l
[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano molecule/default/verify.yml [1@a[1@n[1@s[1@i[1@b[1@l[1@e[1@-[1@l[1@i[1@n[1@t
Loading custom .yamllint config file, this extends our internal yamllint config.
]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule verify
<span style="color: #0000aa">INFO    </span> default scenario test matrix: verify
<span style="color: #0000aa">INFO    </span> Performing prerun<span style="color: #aa5500">...</span>
<span style="color: #0000aa">INFO    </span> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<span style="color: #0000aa">INFO    </span> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span>=~<span style="color: #E850A8">/.ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/usr/share/ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/etc/ansible/</span><span style="color: #ff90e8">roles</span>:.<span style="color: #E850A8">/.cache/</span><span style="color: #ff90e8">roles</span>
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">verify</span>
<span style="color: #0000aa">INFO    </span> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simula√ß√£o: Atualizar a cache do sistema] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: O sistema operativo est√° atualizado"</span>
<span style="color: #00aa00">}</span>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas] *******************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: As dependencias estavam instaladas"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<span style="color: #aa5500">changed: [ubuntu-20.04]</span>

TASK [Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?] **************************************************************************************************
<span style="color: #aa0000">fatal: [ubuntu-20.04]: FAILED! =&gt; {</span>
<span style="color: #aa0000">    "assertion": "not estado.changed",</span>
<span style="color: #aa0000">    "changed": false,</span>
<span style="color: #aa0000">    "evaluated_to": false,</span>
<span style="color: #aa0000">    "msg": "ERRO: O servi√ßo apache2 n√£o se encontra correctamente instalado"</span>
<span style="color: #aa0000">}</span>

PLAY RECAP **********************************************************************************************************************************************************************************
<span style="color: #aa0000">ubuntu-20.04</span>               : <span style="color: #00aa00">ok=8   </span> <span style="color: #aa5500">changed=1   </span> unreachable=0    <span style="color: #aa0000">failed=1   </span> skipped=0    rescued=0    ignored=0


<span style="font-weight: bold; color: #aa0000">CRITICAL</span> Ansible return code was <span style="font-weight: bold; color: #00aaaa">2</span>, command was: ansible-playbook --inventory <span style="color: #E850A8">/home/admlocal/.cache/molecule/leantime_ansible/default/</span><span style="color: #ff90e8">inventory</span> --skip-tags molecule-notest,notest <span style="color: #E850A8">/home/admlocal/leantime_ansible/molecule/default/</span><span style="color: #ff90e8">verify.yml</span>
]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano -F tasks/tasks.yml 
[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><span style="background-color: #AAAAAA; color: #000000">[ 46 linhas lidas ]</span><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                                                          tasks/tasks.yml                                                                                      </span>
<span style="background-color: #AAAAAA; color: #000000">^G</span> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar
<span style="background-color: #AAAAAA; color: #000000">^X</span> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
---- name: Atualiza a cache (equivalente a apt update)apt:update_cache: truecache_valid_time: 3600- name: "Atualiza o sistema operativo"apt:upgrade: safe- name: "Instalar as dependencias necess√°ria ao programa leantime"apt:pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl
[?12l[?25h[?25l - python3-apt    - python3-pycurl
[?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>
[?12l[?25h[?25l                                <span style="background-color: #AAAAAA; color: #000000">M-F</span> Novo buffer<span style="background-color: #AAAAAA; color: #000000">^X</span> Executar comando<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar           <span style="background-color: #AAAAAA; color: #000000">M-N</span> Sem convers√£o       <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Ficheiro a ler para o novo buffer [de ./]:                                                                                                                                                   </span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">m
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">o
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">l
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">e
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">cule/
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">v
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">e
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">r
</span>[?12l[?25h[?25l
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000"> 
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000"> 
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000"> 
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">d
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">e
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">f
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">ault/
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">v
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">e
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">r
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">ify.yml
</span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><span style="background-color: #AAAAAA; color: #000000">[ 105 linhas lidas ]</span><span style="background-color: #AAAAAA; color: #000000">[2/2]       molecule/default/verify.yml          </span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Fechar  <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
---
<span style="color: #00aaaa"># Tutorial de inspira√ß√£o para a infraestrutura conduzida por teste no site
# https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/
</span>- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: "Simula√ß√£o: Atualizar a cache do sistema"apt:update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: O sistema operativo est√° atualizado"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Teste: a cache encontra-se atualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem atualiza√ß√µes pendentes"- name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"apt:
[?12l[?25h[?25l  - name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"
    apt: pkg:- mc - screen    - git    - apache2    - mysql-server- php    - php-mysql    - php-ldap  - php-cli- php-soap- php-json  - graphviz  - php-xml- php-gd    - php-zip  - libapache2-mod-php- php-devlibmcrypt-dev- gcc- make- autoconf    - libc-dev  - pkg-config- pwgen  - curl  - unzip- zip    - php-mbstring  - expect- net-toolspython3-mysqldb- python3-apt- python3-pycurlcheck_mode: true  register: estado
  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"
[?12l[?25h[?25l      fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"
<span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span>- name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apach2state: startedenabled: truecheck_mode: trueregister: estado
  - name: "Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"assert:that:not estado.changedsuccess_msg: "SUCESSO: O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"fail_msg: "ERRO: O servi√ßo apache2 n√£o se encontra correctamente instalado"
[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>e2[?12l[?25h[?25l                      <span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar                        <span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor         <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  </span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 105 linhas escritas ]</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Fechar  <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">1      tasks/tasks.yml      Modificado</span><span style="background-color: #AAAAAA; color: #000000">[ tasks.yml -- 47 linhas ]</span><span style="background-color: #AAAAAA; color: #000000">1</span>Sair  
 - python3-apt- python3-pycurl
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Gravar buffer modificado?                                                                                                                                                                     S</span> Sim
<span style="background-color: #AAAAAA; color: #000000"> N</span> N√£o <span style="background-color: #AAAAAA; color: #000000">^C</span> Cancelar[?12l[?25h[?25l
<span style="background-color: #AAAAAA; color: #000000">^G</span> Ajuda<span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa
<span style="background-color: #AAAAAA; color: #000000">^C</span> Cancelar<span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor<span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: tasks/tasks.yml
</span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 47 linhas escritas ]</span>
[?12l[?25h[?1049l
[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano -F tasks/tasks.yml molecule verify
<span style="color: #0000aa">INFO    </span> default scenario test matrix: verify
<span style="color: #0000aa">INFO    </span> Performing prerun<span style="color: #aa5500">...</span>
<span style="color: #0000aa">INFO    </span> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<span style="color: #0000aa">INFO    </span> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span>=~<span style="color: #E850A8">/.ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/usr/share/ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/etc/ansible/</span><span style="color: #ff90e8">roles</span>:.<span style="color: #E850A8">/.cache/</span><span style="color: #ff90e8">roles</span>
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">verify</span>
<span style="color: #0000aa">INFO    </span> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simula√ß√£o: Atualizar a cache do sistema] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: O sistema operativo est√° atualizado"</span>
<span style="color: #00aa00">}</span>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas] *******************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: As dependencias estavam instaladas"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?] **************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"</span>
<span style="color: #00aa00">}</span>

PLAY RECAP **********************************************************************************************************************************************************************************
<span style="color: #00aa00">ubuntu-20.04</span>               : <span style="color: #00aa00">ok=9   </span> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<span style="color: #0000aa">INFO    </span> Verifier completed successfully.
]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule verify
<span style="color: #0000aa">INFO    </span> default scenario test matrix: verify
<span style="color: #0000aa">INFO    </span> Performing prerun<span style="color: #aa5500">...</span>
<span style="color: #0000aa">INFO    </span> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<span style="color: #0000aa">INFO    </span> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span>=~<span style="color: #E850A8">/.ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/usr/share/ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/etc/ansible/</span><span style="color: #ff90e8">roles</span>:.<span style="color: #E850A8">/.cache/</span><span style="color: #ff90e8">roles</span>
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">verify</span>
<span style="color: #0000aa">INFO    </span> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simula√ß√£o: Atualizar a cache do sistema] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: O sistema operativo est√° atualizado"</span>
<span style="color: #00aa00">}</span>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas] *******************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: As dependencias estavam instaladas"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?] **************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"</span>
<span style="color: #00aa00">}</span>

PLAY RECAP **********************************************************************************************************************************************************************************
<span style="color: #00aa00">ubuntu-20.04</span>               : <span style="color: #00aa00">ok=9   </span> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<span style="color: #0000aa">INFO    </span> Verifier completed successfully.
]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule verifynano -F tasks/tasks.yml 
[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><span style="background-color: #AAAAAA; color: #000000">[ 47 linhas lidas ]</span><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                                                          tasks/tasks.yml                                                                                      </span>
<span style="background-color: #AAAAAA; color: #000000">^G</span> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar
<span style="background-color: #AAAAAA; color: #000000">^X</span> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
---- name: Atualiza a cache (equivalente a apt update)apt:update_cache: truecache_valid_time: 3600- name: "Atualiza o sistema operativo"apt:upgrade: safe- name: "Instalar as dependencias necess√°ria ao programa leantime"apt:pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl
[?12l[?25h[?25l - python3-apt    - python3-pycurl
[?12l[?25h[?25l[?12l[?25h[?25l                                <span style="background-color: #AAAAAA; color: #000000">M-F</span> Novo buffer<span style="background-color: #AAAAAA; color: #000000">^X</span> Executar comando<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar           <span style="background-color: #AAAAAA; color: #000000">M-N</span> Sem convers√£o       <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Ficheiro a ler para o novo buffer [de ./]:                                                                                                                                                   </span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">m
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">o
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">l
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">e
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">cule/
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">d
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">e
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">f
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">ault/
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">t
</span>[?12l[?25h[?25l
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000"> 
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">v
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">e
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">r
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">ify.yml
</span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><span style="background-color: #AAAAAA; color: #000000">[ 105 linhas lidas ]</span><span style="background-color: #AAAAAA; color: #000000">[2/2]       molecule/default/verify.yml</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Fechar  <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
---
<span style="color: #00aaaa"># Tutorial de inspira√ß√£o para a infraestrutura conduzida por teste no site
# https://www.adictosaltrabajo.com/2020/05/08/ansible-testing-using-molecule-with-ansible-as-verifier/
</span>- name: "Infraestrutura conduzida por testes"hosts: allgather_facts: falsebecome: truetasks:- name: "Simula√ß√£o: Atualizar a cache do sistema"apt:update_cache: truecache_valid_time: 3600check_mode: trueregister: estado- name: "teste: a cache encontra-se actualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Atualizar o sistema operativo (equivalente a apt upgrade)"apt:upgrade: safecheck_mode: trueregister: estado- name: "teste: o sistema operativo encontra-se atualizado?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: O sistema operativo est√° atualizado"fail_msg: "ERRO: Existem actualiza√ß√µes pendentes"- name: "Teste: a cache encontra-se atualizada?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: A cache est√° atualizada"fail_msg: "ERRO: Existem atualiza√ß√µes pendentes"- name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"apt:
[?12l[?25h[?25l  - name: "Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas"
    apt: pkg:- mc - screen    - git    - apache2    - mysql-server- php    - php-mysql    - php-ldap  - php-cli- php-soap- php-json  - graphviz  - php-xml- php-gd    - php-zip  - libapache2-mod-php- php-devlibmcrypt-dev- gcc- make- autoconf    - libc-dev  - pkg-config- pwgen  - curl  - unzip- zip    - php-mbstring  - expect- net-toolspython3-mysqldb- python3-apt- python3-pycurlcheck_mode: true  register: estado
  - name: "Teste: as dependencias encontra-se instaladas?"assert:that:- not estado.changedsuccess_msg: "SUCESSO: As dependencias estavam instaladas"    fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"
[?12l[?25h[?25l      fail_msg: "ERRO: Faltam instalar algumas dependencias. O software pode estar parcialmente instalado"
<span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span>- name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: trueregister: estado
  - name: "Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?"assert:that:not estado.changedsuccess_msg: "SUCESSO: O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"fail_msg: "ERRO: O servi√ßo apache2 n√£o se encontra correctamente instalado"
[?12l[?25h[?25l[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ Marca√ß√£o feita ]</span>
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">  - name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    service:
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">      name: apache2
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">      state: started
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">      enabled: true
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    check_mode: true
</span>[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">    register: estado
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>[?12l[?25h[?25l<span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span>- name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: trueregister: estado
[?12l[?25h[?25l                      <span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar                        <span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor         <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: molecule/default/verify.yml                                                                                                                                  </span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 105 linhas escritas ]</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Fechar  <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">1      tasks/tasks.yml      </span><span style="background-color: #AAAAAA; color: #000000">[ tasks.yml -- 47 linhas ]</span><span style="background-color: #AAAAAA; color: #000000">1</span>Sair  
 - python3-apt- python3-pycurl
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>
<span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span>- name: "Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque"service:name: apache2state: startedenabled: truecheck_mode: trueregister: estado
[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25l"[?12l[?25h[?25lI"[?12l[?25h[?25ln"[?12l[?25h[?25ls"[?12l[?25h[?25lt"[?12l[?25h[?25la"[?12l[?25h[?25ll"[?12l[?25h[?25la"[?12l[?25h[?25l "[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25ls"[?12l[?25h[?25le"[?12l[?25h[?25lr"[?12l[?25h[?25lv"[?12l[?25h[?25li"[?12l[?25h[?25lc"[?12l[?25h[?25l"[?12l[?25h[?25l√ß"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25la"[?12l[?25h[?25lp"[?12l[?25h[?25la"[?12l[?25h[?25lc"[?12l[?25h[?25lh"[?12l[?25h[?25le"[?12l[?25h[?25l2"[?12l[?25h[?25l "[?12l[?25h[?25ln"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25la"[?12l[?25h[?25lr"[?12l[?25h[?25lrr"[?12l[?25h[?25la"[?12l[?25h[?25ln"[?12l[?25h[?25lq"[?12l[?25h[?25lu"[?12l[?25h[?25le"[?12l[?25h[?25l "[?12l[?25h[?25ld"[?12l[?25h[?25lo"[?12l[?25h[?25l "[?12l[?25h[?25ls"[?12l[?25h[?25li"[?12l[?25h[?25ls"[?12l[?25h[?25lt"[?12l[?25h[?25le"[?12l[?25h[?25lm"[?12l[?25h[?25la"[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25ld[?12l[?25h[?25l[?12l[?25h[?25le[?12l[?25h[?25l[?12l[?25h[?25l
[?12l[?25h[?25l[?12l[?25h[?25l                      <span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar                        <span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor         <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: tasks/tasks.yml                                                                                                                                              </span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 55 linhas escritas ]</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
[?12l[?25h[?25l[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>
[?12l[?25h[?25l[?12l[?25h[?25l                      <span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar                        <span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor         <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: tasks/tasks.yml                                                                                                                                              </span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 53 linhas escritas ]</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
[?12l[?25h[?25l[?12l[?25h[?1049l
[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule converge
<span style="color: #0000aa">INFO    </span> default scenario test matrix: dependency, create, prepare, converge
<span style="color: #0000aa">INFO    </span> Performing prerun<span style="color: #aa5500">...</span>
<span style="color: #0000aa">INFO    </span> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<span style="color: #0000aa">INFO    </span> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span>=~<span style="color: #E850A8">/.ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/usr/share/ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/etc/ansible/</span><span style="color: #ff90e8">roles</span>:.<span style="color: #E850A8">/.cache/</span><span style="color: #ff90e8">roles</span>
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">dependency</span>
<span style="color: #aa0000">WARNING </span> Skipping, missing the requirements file.
<span style="color: #aa0000">WARNING </span> Skipping, missing the requirements file.
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">create</span>
<span style="color: #aa0000">WARNING </span> Skipping, instances already created.
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">prepare</span>
<span style="color: #aa0000">WARNING </span> Skipping, instances already prepared.
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">converge</span>

PLAY [Converge] *****************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Include leantime_ansible] *************************************************************************************************************************************************************
<span style="color: #aa0000">ERROR! Syntax Error while loading YAML.</span>
<span style="color: #aa0000">  did not find expected &lt;document start&gt;</span>

<span style="color: #aa0000">The error appears to be in '/home/admlocal/leantime_ansible/tasks/tasks.yml': line 49, column 3, but may</span>
<span style="color: #aa0000">be elsewhere in the file depending on the exact syntax problem.</span>

<span style="color: #aa0000">The offending line appears to be:</span>

<span style="color: #aa0000">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span>
<span style="color: #aa0000">  - name: "Instala o servi√ßo apache2 no arranque do sistema"</span>
<span style="color: #aa0000">  ^ here</span>

PLAY RECAP **********************************************************************************************************************************************************************************
<span style="color: #00aa00">ubuntu-20.04</span>               : <span style="color: #00aa00">ok=1   </span> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0


<span style="font-weight: bold; color: #aa0000">CRITICAL</span> Ansible return code was <span style="font-weight: bold; color: #00aaaa">2</span>, command was: ansible-playbook --inventory <span style="color: #E850A8">/home/admlocal/.cache/molecule/leantime_ansible/default/</span><span style="color: #ff90e8">inventory</span> --skip-tags molecule-notest,notest <span style="color: #E850A8">/home/admlocal/leantime_ansible/molecule/default/</span><span style="color: #ff90e8">converge.yml</span>
]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ √±ano tasks/[1@ntasks.yml 
[?2004h[?1049h[?7h[?1h=[?1h=[?25l<span style="background-color: #AAAAAA; color: #000000">[ A ler... ]</span><span style="background-color: #AAAAAA; color: #000000">[ 53 linhas lidas ]</span><span style="background-color: #AAAAAA; color: #000000">  GNU nano 4.8                                                                          tasks/tasks.yml                                                                                      </span>
<span style="background-color: #AAAAAA; color: #000000">^G</span> Ajuda<span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar<span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar
<span style="background-color: #AAAAAA; color: #000000">^X</span> Sair<span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
---- name: Atualiza a cache (equivalente a apt update)apt:update_cache: truecache_valid_time: 3600- name: "Atualiza o sistema operativo"apt:upgrade: safe- name: "Instalar as dependencias necess√°ria ao programa leantime"apt:pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl
[?12l[?25h[?25l - python3-apt    - python3-pycurl
<span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span>- name: "Instala o servi√ßo apache2 no arranque do sistema"service:   name: apache2 state: startedenabled: true
[?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l
---- name: Atualiza a cache (equivalente a apt update)apt: update_cache: true cache_valid_time: 3600
- name: "Atualiza o sistema operativo"apt: upgrade: safe- name: "Instalar as dependencias necess√°ria ao programa leantime"apt:pkg:- mc- screen- git- apache2- mysql-server- php- php-mysql- php-ldap- php-cli- php-soap- php-json- graphviz- php-xml- php-gd- php-zip- libapache2-mod-php- php-dev- libmcrypt-dev- gcc- make- autoconf- libc-dev- pkg-config- pwgen- curl- unzip- zip- php-mbstring- expect- net-tools- python3-mysqldb- python3-apt- python3-pycurl[?12l[?25h[?25l
[?12l[?25h[?25l  [?12l[?25h[?25l - python3-apt    - python3-pycurl
<span style="color: #00aaaa">  # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html</span>- name: "Instala o servi√ßo apache2 no arranque do sistema"service:   name: apache2 state: startedenabled: true
[?12l[?25h[?25l<span style="background-color: #AAAAAA; color: #000000">Modificado</span>
<span style="color: #00aaaa">   # Fonte de inspira√ß√£o: https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html
   </span>[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l
   - name: "Instala o servi√ßo apache2 no arranque do sistema"
   [?12l[?25h[?25l[?12l[?25h[?25l
     service:[?12l[?25h[?25l[?12l[?25h[?25l
 name: apache2[?12l[?25h[?25l[?12l[?25h[?25l
 state: started
[?12l[?25h[?25l[?12l[?25h[?25l
 enabled: true[?12l[?25h[?25l                      <span style="background-color: #AAAAAA; color: #000000">M-D</span> Formato DOS<span style="background-color: #AAAAAA; color: #000000">M-A</span> Anexar<span style="background-color: #AAAAAA; color: #000000">M-B</span> Seguran√ßa<span style="background-color: #AAAAAA; color: #000000">C</span> Cancelar                        <span style="background-color: #AAAAAA; color: #000000">M-M</span> Formato Mac<span style="background-color: #AAAAAA; color: #000000">M-P</span> Prepor         <span style="background-color: #AAAAAA; color: #000000">^T</span> P/ ficheiros
<span style="background-color: #AAAAAA; color: #000000">Nome do ficheiro onde escrever: tasks/tasks.yml                                                                                                                                              </span>[?12l[?25h[?25l <span style="background-color: #AAAAAA; color: #000000">[ A escrever... ]</span><span style="background-color: #AAAAAA; color: #000000">          </span><span style="background-color: #AAAAAA; color: #000000">[ 53 linhas escritas ]</span><span style="background-color: #AAAAAA; color: #000000">^O</span> Gravar<span style="background-color: #AAAAAA; color: #000000">^W</span> Procurar      <span style="background-color: #AAAAAA; color: #000000">^K</span> Cortar txt    <span style="background-color: #AAAAAA; color: #000000">^J</span> Justificar    <span style="background-color: #AAAAAA; color: #000000">^C</span> Pos cursor    <span style="background-color: #AAAAAA; color: #000000">M-U</span> Desfazer     <span style="background-color: #AAAAAA; color: #000000">M-A</span> Marcar txt   <span style="background-color: #AAAAAA; color: #000000">M-]</span> Par√™nteses   <span style="background-color: #AAAAAA; color: #000000">M-Q</span> Anterior     <span style="background-color: #AAAAAA; color: #000000">^B</span> Recuar<span style="background-color: #AAAAAA; color: #000000">X</span> Sair    <span style="background-color: #AAAAAA; color: #000000">^R</span> Carregar<span style="background-color: #AAAAAA; color: #000000">^\</span> Substituir    <span style="background-color: #AAAAAA; color: #000000">^U</span> Colar txt     <span style="background-color: #AAAAAA; color: #000000">^T</span> Ortografia    <span style="background-color: #AAAAAA; color: #000000">^_</span> Ir p/ linha   <span style="background-color: #AAAAAA; color: #000000">M-E</span> Refazer<span style="background-color: #AAAAAA; color: #000000">M-6</span> Copiar txt   <span style="background-color: #AAAAAA; color: #000000">^Q</span> Onde antes    <span style="background-color: #AAAAAA; color: #000000">M-W</span> Seguinte     <span style="background-color: #AAAAAA; color: #000000">^F</span> Avan√ßar
[?12l[?25h[?25l
[?12l[?25h[?1049l
[?1l&gt;[?2004l]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ nano tasks/tasks.yml molecule converge
<span style="color: #0000aa">INFO    </span> default scenario test matrix: dependency, create, prepare, converge
<span style="color: #0000aa">INFO    </span> Performing prerun<span style="color: #aa5500">...</span>
<span style="color: #0000aa">INFO    </span> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<span style="color: #0000aa">INFO    </span> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span>=~<span style="color: #E850A8">/.ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/usr/share/ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/etc/ansible/</span><span style="color: #ff90e8">roles</span>:.<span style="color: #E850A8">/.cache/</span><span style="color: #ff90e8">roles</span>
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">dependency</span>
<span style="color: #aa0000">WARNING </span> Skipping, missing the requirements file.
<span style="color: #aa0000">WARNING </span> Skipping, missing the requirements file.
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">create</span>
<span style="color: #aa0000">WARNING </span> Skipping, instances already created.
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">prepare</span>
<span style="color: #aa0000">WARNING </span> Skipping, instances already prepared.
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">converge</span>

PLAY [Converge] *****************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Include leantime_ansible] *************************************************************************************************************************************************************

TASK [leantime_ansible : Atualiza a cache (equivalente a apt update)] ***********************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [leantime_ansible : Atualiza o sistema operativo] **************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [leantime_ansible : Instalar as dependencias necess√°ria ao programa leantime] **********************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [leantime_ansible : Instala o servi√ßo apache2 no arranque do sistema] ******************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

PLAY RECAP **********************************************************************************************************************************************************************************
<span style="color: #00aa00">ubuntu-20.04</span>               : <span style="color: #00aa00">ok=5   </span> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ molecule verify
<span style="color: #0000aa">INFO    </span> default scenario test matrix: verify
<span style="color: #0000aa">INFO    </span> Performing prerun<span style="color: #aa5500">...</span>
<span style="color: #0000aa">INFO    </span> Using .cache/roles/nunomourinho.leantime_ansible symlink to current repository in order to enable Ansible to find the role using its expected full name.
<span style="color: #0000aa">INFO    </span> Added <span style="color: #aa5500">ANSIBLE_ROLES_PATH</span>=~<span style="color: #E850A8">/.ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/usr/share/ansible/</span><span style="color: #ff90e8">roles</span>:<span style="color: #E850A8">/etc/ansible/</span><span style="color: #ff90e8">roles</span>:.<span style="color: #E850A8">/.cache/</span><span style="color: #ff90e8">roles</span>
<span style="color: #0000aa">INFO    </span> <span style="font-weight: lighter; color: #00aaaa">Running </span><span style="font-weight: lighter; color: #00aa00">default</span><span style="font-weight: lighter; color: #00aaaa"> &gt; </span><span style="font-weight: lighter; color: #00aa00">verify</span>
<span style="color: #0000aa">INFO    </span> Running Ansible Verifier

PLAY [Infraestrutura conduzida por testes] **************************************************************************************************************************************************

TASK [Simula√ß√£o: Atualizar a cache do sistema] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: a cache encontra-se actualizada?] **********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Atualizar o sistema operativo (equivalente a apt upgrade)] ****************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [teste: o sistema operativo encontra-se atualizado?] ***********************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: O sistema operativo est√° atualizado"</span>
<span style="color: #00aa00">}</span>

TASK [Teste: a cache encontra-se atualizada?] ***********************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: A cache est√° atualizada"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: testa se as aplica√ß√µes dependencia do software leantime se encontram instaladas] *******************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Teste: as dependencias encontra-se instaladas?] ***************************************************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: As dependencias estavam instaladas"</span>
<span style="color: #00aa00">}</span>

TASK [Simula√ß√£o: Testar se o servi√ßo apache2 se encontra instalado, iniciado e ativo no arranque] *******************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04]</span>

TASK [Teste: O servi√ßo apache2 encontra-se ativo no arranque no sistema, e est√° iniciado?] **************************************************************************************************
<span style="color: #00aa00">ok: [ubuntu-20.04] =&gt; {</span>
<span style="color: #00aa00">    "changed": false,</span>
<span style="color: #00aa00">    "msg": "SUCESSO: O servi√ßo apache2 est√° correctamente instalado e inicia com o arranque do sistema"</span>
<span style="color: #00aa00">}</span>

PLAY RECAP **********************************************************************************************************************************************************************************
<span style="color: #00aa00">ubuntu-20.04</span>               : <span style="color: #00aa00">ok=9   </span> changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

<span style="color: #0000aa">INFO    </span> Verifier completed successfully.
]0;admlocal@devOps: ~/leantime_ansibleadmlocal@devOps:~/leantime_ansible$ exit
exit
